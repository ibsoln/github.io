<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Getting Started | Couchbase Docs Preview Site</title>
<link rel="canonical" href="https://ibsoln.github.io/sync-gateway/2.6/getting-started.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="sync-gateway">
<meta name="dcterms.identifier" content="2.6">
<meta name="generator" content="Antora 2.3.3">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">

              <a class="navbar-brand" href="https://www.couchbase.com">
                <img src="../../_/img/couchbase-documentation-logo.svg" alt="Couchbase" />
              </a>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
<div class="left-sidebar-menu">
<div class="version-control-box">
<div class="component-frame has-dropdown">
<div class="frame-icon">
<img src="../../_/img/server-icon.png" alt="">
</div>
<div class="frame-body">
<h4 class="title">
<span class="">
Sync Gateway
</span>
<div class="frame-link-dropdowns">
<a class="frame-link component" href="index.html"><span class="version">2.6</span> <i class="fas fa-chevron-down"></i></a>
<div class="frame-dropdown versions">
<div class="column">
<ul class="frame-dropdown-list">
<li><a class="frame-item" href="../3.0/index.html">3.0</a></li>
<li><a class="frame-item" href="../2.8/index.html">2.8</a></li>
<li><a class="frame-item" href="../2.7/index.html">2.7</a></li>
<li><a class="frame-item" href="../2.5/getting-started.html">2.5</a></li>
</ul>
</div>
</div>
</div>
</h4>

</div>
</div>
</div>
<div class="nav-menu">
<ul class="nav-list">
<li class="nav-item is-current-path is-active is-active-depth-2  " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Introduction</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="introduction.html">Introduction</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="index.html">What&#8217;s New</a>
</span>
</li>
<li class="nav-item is-current-page is-active is-active-depth-2  " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="getting-started.html">Getting Started</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="data-modeling.html">Data Modeling</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Access Control</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="users-and-roles.html">Users and Roles</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="authentication.html">Authentication</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="sync-gateway-channels.html">Sync Gateway Channels</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="read-access.html">Read Access</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="write-access.html">Write Access</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="sync-function.html">Sync Function</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Learn</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="config-properties.html">Configuration File</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="command-line-options.html">CLI</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="shared-bucket-access.html">Mobile-Server Data Sync</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="managing-tombstones.html">Tombstones</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="server-integration.html">Webhooks and Changes Feed</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="resolving-conflicts.html">Resolving Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="integrating-external-stores.html">Integrating External Stores</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="running-replications.html">Inter-cluster Replication</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="rest-api-client.html">REST API Client</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Manage</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="logging.html">Logging</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="stats-monitoring.html">Stats Monitoring</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="sgcollect-info.html">SGCollect Info</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="deployment.html">Deployment</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Sync Gateway on Kubernetes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="kubernetes/deploy-cluster.html">Deploy a Cluster</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="kubernetes/manage-cluster.html">Manage a Cluster</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="security.html">Security</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="load-balancer.html">Load Balancer</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="database-offline.html">Taking Databases Offline and Online</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="os-level-tuning.html">OS Level Tuning</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">API References</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="rest-api.html">Public REST API</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="admin-rest-api.html">Admin REST API</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Release Notes &amp; Compatibility</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="release-notes.html">Release Notes</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="supported-os.html">Supported OS</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="compatibility-matrix.html">Compatibility Matrix</a>
</span>
</li>
</ul>
</li>
</ul>
</div>
<a href="#" class="menu-expand-toggle"> <span>Navigation</span> <i class="fas fa-times-circle"></i> <i class="fas fa-chevron-circle-left"></i></a>
</div></nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/ibsoln/docs-sync-gateway/edit/release/2.6/modules/ROOT/pages/getting-started.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="index.html">Sync Gateway</a></li>
<li class="crumb">Introduction</li>
<li class="crumb"><a href="getting-started.html">Getting Started</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Getting Started</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div class="sect1">
<h2 id="install-couchbase-server"><a class="anchor" href="#install-couchbase-server"></a>Install Couchbase Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing Sync Gateway, you must install and configure Couchbase Server.</p>
</div>
<div class="paragraph">
<p><a href="https://www.couchbase.com/downloads">Download</a> and install Couchbase Server.</p>
</div>
<div class="sect2">
<h3 id="creating-a-bucket"><a class="anchor" href="#creating-a-bucket"></a>Creating a bucket</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the Couchbase Server Admin Console on <code>http://localhost:8091</code> and log on using your administrator credentials.</p>
</li>
<li>
<p>In the toolbar, select the <strong>Buckets</strong> tab and click the <strong>Add Bucket</strong> button.</p>
<div class="imageblock">
<div class="content">
<img src="_images/cb-create-bucket.png" alt="cb create bucket">
</div>
</div>
</li>
<li>
<p>In the pop-up window, enter <strong>getting-started-bucket</strong> for the <strong>name</strong> and click <strong>Add Bucket</strong>.
You can leave the other options to their defaults.</p>
<div class="imageblock">
<div class="content">
<img src="_images/cb-create-bucket-popup.png" alt="cb create bucket popup">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-an-rbac-user"><a class="anchor" href="#creating-an-rbac-user"></a>Creating an RBAC user</h3>
<div class="paragraph">
<p>In order for Sync Gateway to connect to Couchbase Server, you must create an RBAC user.
The RBAC user credentials will be used in a later section to start Sync Gateway.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the <strong>Security</strong> tab and click the <strong>Add User</strong> button.</p>
<div class="imageblock">
<div class="content">
<img src="_images/create-user.png" alt="create user">
</div>
</div>
<div class="paragraph">
<p>Couchbase Server opens the <em>Add New User</em> dialog.</p>
</div>
</li>
<li>
<p>Create the RBAC user with appropriate access roles.</p>
<div class="paragraph">
<p>In the <em>Add New User</em> window, provide a <strong>Username</strong> and <strong>Password</strong>; the credentials to be used by Sync Gateway to connect.</p>
</div>
<div class="paragraph">
<p>Note that the role details differ, depending on your Couchbase Server version&#8201;&#8212;&#8201;see <a href="#rbac-roles">Example 1</a>.</p>
</div>
<div id="rbac-roles" class="exampleblock">
<div class="title">Example 1. Select RBAC roles</div>
<div class="content">
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_couchbase-server-6-6"></a>Couchbase Server 6.6+</p>
</li>
<li>
<p><a id="tabset1_couchbase-server-5-5-6-5"></a>Couchbase Server 5.5 - 6.5</p>
</li>
<li>
<p><a id="tabset1_couchbase-server-5-1"></a>Couchbase Server 5.1</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_couchbase-server-6-6">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the pop-up window, provide</p>
<div class="ulist">
<ul>
<li>
<p>A Username (<code>sync_gateway</code>)</p>
</li>
<li>
<p>A Password (<code>password</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assign the <em>Sync Gateway</em> role to the user</p>
<div class="paragraph">
<p><a href="../../server/6.5/learn/security/roles.html#sync-gateway" class="page">Sync Gateway RBAC Role Description</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/user-settings-6-6.png" alt="user settings 6 6" width="450">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Users are encouraged to move away from using the <em>Application Access</em> and <em>Read-Only Admin</em> roles for this purpose.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_couchbase-server-5-5-6-5">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the pop-up window, provide:</p>
<div class="ulist">
<ul>
<li>
<p>A Username (<code>sync_gateway</code>)</p>
</li>
<li>
<p>A Password (<code>password</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assign these RBAC roles to the user(as shown on the image below):</p>
<div class="ulist">
<ul>
<li>
<p>Application Access</p>
</li>
<li>
<p>Read Only Admin</p>
<div class="imageblock">
<div class="content">
<img src="_images/user-settings-5-5.png" alt="user settings 5 5" width="450">
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_couchbase-server-5-1">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the pop-up window, provide:</p>
<div class="ulist">
<ul>
<li>
<p>A Username (<code>sync_gateway</code>)</p>
</li>
<li>
<p>A Password* (<code>password</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assign these RBAC roles to the user:</p>
<div class="ulist">
<ul>
<li>
<p>Bucket Full Access</p>
</li>
<li>
<p>Read Only Admin</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/user-settings.png" alt="user settings" width="450">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="network-access"><a class="anchor" href="#network-access"></a>Network access</h3>
<div class="paragraph">
<p>If you&#8217;re installing Couchbase Server on the cloud, make sure that network permissions (or firewall settings) allow incoming connections to Couchbase Server ports.
In a typical mobile deployment on premise or in the cloud (AWS, Red Hat, etc.), the following ports must be opened on the host for Couchbase Server to operate correctly: 8091, 8092, 8093, 8094, 11207, 11210, 11211, 18091, 18092, 18093.
You must verify that any firewall configuration allows communication on the specified ports.
If this is not done, the Couchbase Server node can experience difficulty joining a cluster.
You can refer to the <a href="../../server/6.5/install/install-ports.html" class="page">Couchbase Server Network Configuration</a> guide to see the full list of available ports and their associated services.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-sync-gateway"><a class="anchor" href="#install-sync-gateway"></a>Install Sync Gateway</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Install Sync Gateway on the operating system of your choice:</p>
</div>
<div class="sect2">
<h3 id="enterprise-edition"><a class="anchor" href="#enterprise-edition"></a>Enterprise Edition</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_ubuntu"></a>Ubuntu</p>
</li>
<li>
<p><a id="tabset2_red-hat-centos"></a>Red Hat/CentOS</p>
</li>
<li>
<p><a id="tabset2_debian"></a>Debian</p>
</li>
<li>
<p><a id="tabset2_windows"></a>Windows</p>
</li>
<li>
<p><a id="tabset2_macos"></a>macOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_ubuntu">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-enterprise_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i couchbase-sync-gateway-enterprise_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="paragraph">
<p>To stop/start the <code>sync_gateway</code> service, use the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo service sync_gateway start
sudo service sync_gateway stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
<div class="paragraph">
<p>You can also run the <strong>sync_gateway</strong> binary directly from the command line.
The binary is installed at <code>/opt/couchbase-sync-gateway/bin/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_red-hat-centos">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-enterprise_2.6.0_x86_64.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the rpm package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">rpm -i couchbase-sync-gateway-enterprise_2.6.0_x86_64.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="paragraph">
<p>On CentOS 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">service sync_gateway start
service sync_gateway stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>On CentOS 6:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">initctl start sync_gateway
initctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>initctl restart sync_gateway</code> command does not work in CentOS 6.
To restart Sync Gateway, the stop/start commands can be used instead.</p>
</div>
<div class="paragraph">
<p>On CentOS 7:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sync_gateway
systemctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_debian">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-enterprise_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i couchbase-sync-gateway-enterprise_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sync_gateway
systemctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_windows">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a>.
Open the installer and follow the instructions.
If the installation was successful you will see the following.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/windows-installation-complete.png" alt="windows installation complete">
</div>
</div>
<div class="paragraph">
<p>Sync Gateway runs as a service (reachable on <code>http://localhost:4985</code>). To stop/start the service, you can use the Services application (<strong>Control Panel &#8594; Admin Tools &#8594; Services</strong>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The configuration file is located under <code>C:\Program Files\Couchbase\Sync Gateway\serviceconfig.json</code>.</p>
</li>
<li>
<p>Logs are located under <code>C:\Program Files\Couchbase\Sync Gateway\var\lib\couchbase\logs</code>.</p>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_macos">
<div class="paragraph">
<p>macOS is supported only for development and test environments (see <a href="supported-os.html#supported-versions" class="page">Supported OS</a>).</p>
</div>
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-enterprise_2.6.0_x86_64.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>From here, there are two installation options.</p>
</div>
<div class="paragraph">
<p><strong>Option 1:</strong> Start Sync Gateway from the Command Line</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unpack the tar.gz installer.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo tar -zxvf couchbase-sync-gateway-enterprise_2.6.0_x86_64.tar.gz</code></pre>
</div>
</div>
</li>
<li>
<p>Launch the <code>sync_gateway</code> program from the command line.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">~/Downloads/couchbase-sync-gateway/bin/sync_gateway</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Option 2:</strong> Run Sync Gateway as a service</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unpack the tar.gz installer to the <strong>/opt</strong> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo tar -zxvf couchbase-sync-gateway-enterprise_2.6.0_x86_64.tar.gz --directory /opt</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new macOS user.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sudo sysadminctl -addUser sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the operation is successful, you will get the following output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sysadminctl ----------------------------
sysadminctl No clear text password or interactive option was specified (adduser, change/reset password will not allow user to use FDE) !
sysadminctl ----------------------------
sysadminctl Creating user record…
sysadminctl Assigning UID: 505
sysadminctl Creating home directory at /Users/sync_gateway</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new group and add the <code>sync_gateway</code> user to that group.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sudo dseditgroup -o create sync_gateway
sudo dseditgroup -o edit -a sync_gateway -t user sync_gateway</code></pre>
</div>
</div>
</li>
<li>
<p>Run Sync Gateway as a service with the following.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd /opt/couchbase-sync-gateway/service
sudo ./sync_gateway_service_install.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other scripts in that directory are available to update or uninstall the service.</p>
</div>
</li>
<li>
<p>Sync Gateway is now reachable on <a href="http://0.0.0.0:4984">0.0.0.0:4984</a>.
The configuration file and logs are located in <code>/Users/sync_gateway</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The following sections describe how to install and configure Sync Gateway to run with Couchbase Server.</p>
</div>
</div>
<div class="sect2">
<h3 id="community-edition"><a class="anchor" href="#community-edition"></a>Community Edition</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_ubuntu"></a>Ubuntu</p>
</li>
<li>
<p><a id="tabset3_red-hat-centos"></a>Red Hat/CentOS</p>
</li>
<li>
<p><a id="tabset3_debian"></a>Debian</p>
</li>
<li>
<p><a id="tabset3_windows"></a>Windows</p>
</li>
<li>
<p><a id="tabset3_macos"></a>macOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_ubuntu">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-community_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i couchbase-sync-gateway-community_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="paragraph">
<p>To stop/start the <code>sync_gateway</code> service, use the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo service sync_gateway start
sudo service sync_gateway stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
<div class="paragraph">
<p>You can also run the <strong>sync_gateway</strong> binary directly from the command line.
The binary is installed at <code>/opt/couchbase-sync-gateway/bin/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_red-hat-centos">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-community_2.6.0_x86_64.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the rpm package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">rpm -i couchbase-sync-gateway-community_2.6.0_x86_64.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="paragraph">
<p>On CentOS 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">service sync_gateway start
service sync_gateway stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>On CentOS 6:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">initctl start sync_gateway
initctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>initctl restart sync_gateway</code> command does not work in CentOS 6.
To restart Sync Gateway, the stop/start commands can be used instead.</p>
</div>
<div class="paragraph">
<p>On CentOS 7:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sync_gateway
systemctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_debian">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-community_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install sync_gateway with the dpkg package manager e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">dpkg -i couchbase-sync-gateway-community_2.6.0_x86_64.deb</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the installation is complete sync_gateway will be running as a service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl start sync_gateway
systemctl stop sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config file and logs are located in <code>/home/sync_gateway</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_windows">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a>.
Open the installer and follow the instructions.
If the installation was successful you will see the following.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/windows-installation-complete.png" alt="windows installation complete">
</div>
</div>
<div class="paragraph">
<p>Sync Gateway runs as a service (reachable on <code>http://localhost:4985</code>). To stop/start the service, you can use the Services application (<strong>Control Panel &#8594; Admin Tools &#8594; Services</strong>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The configuration file is located under <code>C:\Program Files\Couchbase\Sync Gateway\serviceconfig.json</code>.</p>
</li>
<li>
<p>Logs are located under <code>C:\Program Files\Couchbase\Sync Gateway\var\lib\couchbase\logs</code>.</p>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_macos">
<div class="paragraph">
<p>Download Sync Gateway from the <a href="https://www.couchbase.com/downloads#couchbase-mobile">Couchbase downloads page</a> or using the <code>wget</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget http://packages.couchbase.com/releases/couchbase-sync-gateway/2.6.0/couchbase-sync-gateway-community_2.6.0_x86_64.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>From here, there are two installation options.</p>
</div>
<div class="paragraph">
<p><strong>Option 1:</strong> Start Sync Gateway from the Command Line</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unpack the tar.gz installer.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo tar -zxvf couchbase-sync-gateway-community_2.6.0_x86_64.tar.gz</code></pre>
</div>
</div>
</li>
<li>
<p>Launch the <code>sync_gateway</code> program from the command line.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">~/Downloads/couchbase-sync-gateway/bin/sync_gateway</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Option 2:</strong> Run Sync Gateway as a service</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unpack the tar.gz installer to the <strong>/opt</strong> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo tar -zxvf couchbase-sync-gateway-community_2.6.0_x86_64.tar.gz --directory /opt</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new macOS user.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sudo sysadminctl -addUser sync_gateway</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the operation is successful, you will get the following output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sysadminctl ----------------------------
sysadminctl No clear text password or interactive option was specified (adduser, change/reset password will not allow user to use FDE) !
sysadminctl ----------------------------
sysadminctl Creating user record…
sysadminctl Assigning UID: 505
sysadminctl Creating home directory at /Users/sync_gateway</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new group and add the <code>sync_gateway</code> user to that group.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">sudo dseditgroup -o create sync_gateway
sudo dseditgroup -o edit -a sync_gateway -t user sync_gateway</code></pre>
</div>
</div>
</li>
<li>
<p>Run Sync Gateway as a service with the following.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd /opt/couchbase-sync-gateway/service
sudo ./sync_gateway_service_install.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other scripts in that directory are available to update or uninstall the service.</p>
</div>
</li>
<li>
<p>Sync Gateway is now reachable on <a href="http://0.0.0.0:4984">0.0.0.0:4984</a>.
The configuration file and logs are located in <code>/Users/sync_gateway</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-sync-gateway"><a class="anchor" href="#configure-sync-gateway"></a>Configure Sync Gateway</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following steps explain how to connect Sync Gateway to the Couchbase Server instance.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a new file called <strong>sync-gateway-config.json</strong> with the following.</p>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_default"></a>Default</p>
</li>
<li>
<p><a id="tabset4_with-import-filter"></a>With Import Filter</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_default">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript" data-source-url="https://github.com/ibsoln/docs-sync-gateway/blob/003702f11ad9fa21469271a8364644fa39dd572e/modules/ROOT/examples/getting-started/sync-gateway-config.json">{
  "log": ["*"],
  "databases": {
    "getting-started-db": {
      "server": "http://localhost:8091",
      "bucket": "getting-started-bucket",
      "username": "sync_gateway", <i class="conum" data-value="1"></i><b>(1)</b>
      "password": "password", <i class="conum" data-value="2"></i><b>(2)</b>
      "enable_shared_bucket_access": true, <i class="conum" data-value="3"></i><b>(3)</b>
      "import_docs": true,
      "num_index_replicas": 0, <i class="conum" data-value="4"></i><b>(4)</b>
      "users": {
        "GUEST": { "disabled": false, "admin_channels": ["*"] }
      },
      "sync": `function (doc, oldDoc) { <i class="conum" data-value="5"></i><b>(5)</b>
        if (doc.sdk) {
          channel(doc.sdk);
        }
      }`
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configuration properties:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user&#8217;s username that you created on the Couchbase Server Admin Console.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The user&#8217;s password that you created on the Couchbase Server Admin Console.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <a href="shared-bucket-access.html" class="page">shared bucket access</a> feature allows Couchbase Server SDKs to also perform operations on this bucket.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>num_index_replicas</code> is the number of index replicas stored in Couchbase Server, introduced with <a href="indexing.html" class="page">GSI/N1QL indexing</a>.
If you&#8217;re running a single Couchbase Server node for development purposes the <code>num_index_replicas</code> must be set to <code>0</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>If the document body contains the <code>sdk</code> property, route it to a channel called <code>doc.sdk</code>, this feature is introduced in <a href="sync-gateway-channels.html" class="page">Access Control</a>.
The Sync Function can be surrounded with backticks (`) to allow multiple lines to be used; or with standard JSON double quotes, in which case new lines must be escaped (<code>\n</code>).</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_with-import-filter">
<div class="paragraph">
<p>For clusters with a large amount of data, the initial import process can take considerable time to complete.
Therefore, to get started with a cluster which contains a large number of pre-existing documents, we recommend to use an <code>import_filter</code> to reduce the initial import processing time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript" data-source-url="https://github.com/ibsoln/docs-sync-gateway/blob/003702f11ad9fa21469271a8364644fa39dd572e/modules/ROOT/examples/getting-started/sync-gateway-config-import-filter.json">{
  "log": ["*"],
  "databases": {
    "getting-started-db": {
      "server": "http://localhost:8091",
      "bucket": "getting-started-bucket",
      "username": "sync_gateway", <i class="conum" data-value="1"></i><b>(1)</b>
      "password": "password", <i class="conum" data-value="2"></i><b>(2)</b>
      "enable_shared_bucket_access": true, <i class="conum" data-value="3"></i><b>(3)</b>
      "import_docs": true,
      "num_index_replicas": 0, <i class="conum" data-value="4"></i><b>(4)</b>
      "import_filter": `
        function(doc) { <i class="conum" data-value="5"></i><b>(5)</b>
          if (doc.type != "mobile") {
            return false
          }
          return true
        }`,
      "users": {
        "GUEST": { "disabled": false, "admin_channels": ["*"] }
      },
      "sync": `function (doc, oldDoc) { <i class="conum" data-value="6"></i><b>(6)</b>
        if (doc.sdk) {
          channel(doc.sdk);
        }
      }`,
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configuration properties:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user&#8217;s username that you created on the Couchbase Server Admin Console.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The user&#8217;s password that you created on the Couchbase Server Admin Console.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <a href="shared-bucket-access.html" class="page">shared bucket access</a> feature allows Couchbase Server SDKs to also perform operations on this bucket.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>num_index_replicas</code> is the number of index replicas stored in Couchbase Server, introduced with <a href="indexing.html" class="page">GSI/N1QL indexing</a>.
If you&#8217;re running a single Couchbase Server node for development purposes the <code>num_index_replicas</code> must be set to <code>0</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Only import documents which have a <code>type</code> property equal to <code>mobile</code>.
The import filter function can be surrounded with backticks (`) to allow multiple lines to be used; or with standard JSON double quotes, in which case new lines must be escaped (<code>\n</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>If the document body contains the <code>sdk</code> property, route it to a channel called <code>doc.sdk</code>, this feature is introduced in <a href="sync-gateway-channels.html" class="page">Access Control</a>.
The Sync Function can be surrounded with backticks (`) in the configuration file (<a href="#configure-sync-gateway">example</a>)to allow multiple lines to be used; or with standard JSON double quotes, in which case new lines must be escaped (<code>\n</code>).</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Start Sync Gateway from the command line, or if Sync Gateway is running in a service replace the configuration file and restart the service.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">~/Downloads/couchbase-sync-gateway/bin/sync_gateway ~/path/to/sync-gateway-config.json</code></pre>
</div>
</div>
</li>
<li>
<p>Run the application where Couchbase Lite is installed.</p>
</li>
<li>
<p>To verify that documents have been replicated, you can:</p>
<div class="ulist">
<ul>
<li>
<p>Monitor the Sync Gateway sequence number returned by the database endpoint (<a href="../3.0/rest-api.html#/database/get__db__" class="page"><code>GET /{db}/</code></a>).
The sequence number increments for every change that happens on the Sync Gateway database.</p>
</li>
<li>
<p>Query a document by ID on the Sync Gateway REST API (<a href="../3.0/rest-api.html#/document/get__db___doc_" class="page"><code>GET /{db}/{id}</code></a>).</p>
</li>
<li>
<p>Query a document from the Query Workbench on the Couchbase Server Console.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="network-ports"><a class="anchor" href="#network-ports"></a>Network Ports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sync Gateway uses specific ports for communication with the outside world, mostly Couchbase Lite databases replicating to and from Sync Gateway.
The following table lists the ports used for different types of Sync Gateway network communication:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4984</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public port.
External HTTP port used for replication with Couchbase Lite databases and other applications accessing the REST API on the Internet.</p>
<p class="tableblock">The Public REST API is used for client replication. The default port for the Public REST API is 4984.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4985</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin port.
Internal HTTP port for unrestricted access to the database and to run administrative tasks.</p>
<p class="tableblock">The Admin REST API is used to administer user accounts and roles. It can also be used to look at the contents of databases in superuser mode. The default port for the Admin REST API is 4985. By default, the Admin REST API is reachable only from localhost for safety reasons.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The APIs are accessed on different TCP ports, which makes it easy to expose the Public REST API on port 4984 to endpoints while keeping the Admin REST API on port 4985 secure behind your firewall.</p>
</div>
<div class="paragraph">
<p>If you want to change the ports, you can do that in the configuration file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To change the Public REST API port, set the <code>interface</code> property in the configuration file.</p>
</li>
<li>
<p>To change the Admin REST API port, set the <code>adminInterface</code> property in the configuration file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The value of the property is a string consisting of a colon followed by a port number (for example, <code>:4985</code>).
You can also prepend a host name or numeric IP address before the colon to bind only to the network interface with that address.</p>
</div>
<div class="paragraph">
<p>As a useful special case, the IP address 127.0.0.1 binds to the loopback interface, making the port unreachable from any other host.
This is the default setting for the admin interface.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../_/js/vendor/fontawesome.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
