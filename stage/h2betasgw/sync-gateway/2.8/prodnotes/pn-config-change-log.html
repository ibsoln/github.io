<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Configuration Schema Change Log | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/h2betasgw2-slim/sync-gateway/2.8/prodnotes/pn-config-change-log.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="sync-gateway">
<meta name="dcterms.identifier" content="2.8">
<meta name="generator" content="Antora 2.3.3">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">

              <a class="navbar-brand" href="../../..">
                <img src="../../../_/img/couchbase-documentation-logo.svg" alt="Couchbase" />
              </a>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <div class="parent-site">
                  <a href="https://www.couchbase.com">
                    Couchbase.com
                  </a>
                </div>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Try Free
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
<div class="left-sidebar-menu">
<div class="version-control-box">
<div class="component-frame">
<div class="frame-icon">
<img src="../../../_/img/server-icon.png" alt="">
</div>
<div class="frame-body">
<h4 class="title"><span class="">Sync Gateway  H2-BETA 15July20-0800</span></h4>
<a class="navbar-item component" href="../learn/icr-overview.html"> <span class="version">2.8</span></a>
</div>
</div>
</div>
<div class="nav-menu">
<ul class="nav-list">
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Learn</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../learn/icr-overview.html">Inter-Cluster Replication</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../learn/icr-conflict-resolution.html">Conflict Resolution</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Refer</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../refer/config-properties.html">Configuration Schema</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Sync Gateway API</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../refer/rest-api-admin.html">Admin REST API</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="pn-change-log-config.html">Configuration Change Log</a>
</span>
</li>
</ul>
</li>
</ul>
</div>
<a href="#" class="menu-expand-toggle"> <span>Navigation</span> <i class="fas fa-times-circle"></i> <i class="fas fa-chevron-circle-left"></i></a>
</div></nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
      <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/ianbridge/CouchbaseDocs/bau/sgw/modules/ROOT/pages/prodnotes/pn-config-change-log.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
      <div class="toc-menu"></div>
        <div class="is-this-helpful-box">
          <h4> Is this page helpful?</h4>
            <div class="btn-row">
              <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                     <i class="far fa-thumbs-up"></i>
                 Yes

                 </a>
              <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
            </div>
            <div class="any-feedback">
              <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
            </div>
            <div class="dialog-box" id="dialogBox">
              <form>
                  <div class="form-group " id="additionalFeedbackBox">
                    <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

                    <div class="action-btn-row ">
                      <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                       <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                       <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
                    </div>


                  </div>

              </form>

            </div>
      </div>
   </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../learn/icr-overview.html">Sync Gateway  H2-BETA 15July20-0800</a></li>
<li class="crumb"><a href="pn-config-change-log.html">Configuration Schema Change Log</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Configuration Schema Change Log</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div class="sect1">
<h2 id="structural-schema-changes"><a class="anchor" href="#structural-schema-changes"></a>Structural Schema Changes</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>_replicate</code> becomes <code>database.replication</code></dt>
<dd>
<p>The replication configuration property <code>_replicate</code> is deprecated.
SG-Replicate 2.0 replications are now defined with the <code>_replication</code> property, which is as a member of the <code>database</code> property.
Note that any given database can still have multiple replications configured.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Constraint: SG-Replicate 2 does not support replication between two remote hosts via a third Sync Gateway.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removed-or-deprecated-properties"><a class="anchor" href="#removed-or-deprecated-properties"></a>Removed or Deprecated Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following SG Replicate 1.0 (SG1) <em>ReplicationConfig</em> configuration properties are deprecated.
Deprecated functionality remains solely for backward compatibility with SG1 but is no longer supported:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">create_target</dt>
<dd>
<p><em>SG 1.0 Deprecated</em>.
The <em>create_target</em> property remains in <code>ReplicationConfig</code> but is deprecated for Couchbase Server-backed use cases.</p>
</dd>
<dt class="hdlist1">proxy</dt>
<dd>
<p><em>SG 1.0 Deprecated</em>.
The <em>proxy</em> property remains in <code>ReplicationConfig</code> but is deprecated_.</p>
</dd>
<dt class="hdlist1">doc_ids</dt>
<dd>
<p><em>SG 1.0 Deprecated</em>.
The <em>doc_ids</em> property remains in <code>ReplicationConfig</code> but is deprecated_.</p>
</dd>
<dt class="hdlist1">source</dt>
<dd>
<p><em>SG 1.0 Deprecated</em>.</p>
<div class="paragraph">
<p><strong>For SG2:</strong> the <em>source</em> property is, implicitly, the database associated with the replication (that is, the 'database' property under which it is defined).</p>
</div>
</dd>
</dl>
</div>
<div id="target-property" class="dlist">
<dl>
<dt class="hdlist1">target</dt>
<dd>
<p><em>SG 1.0 Deprecated</em>.</p>
<div class="paragraph">
<p><strong>For SG2:</strong> The <em>target</em> property is replaced by the <code><a href="#remote-property">remote</a></code> property.</p>
</div>
</dd>
<dt class="hdlist1">async</dt>
<dd>
<p><em>Removed - redundant</em>.</p>
<div class="paragraph">
<p>The <em>async</em> property is a <em>REST-API-only</em> property.
It was formerly the method used to force a request to start without awaiting completion of one-shot replications (that is, to run asynchronuously).
Now, it <strong>always</strong> run in async mode.</p>
</div>
</dd>
<dt class="hdlist1">changes_feed_limit</dt>
<dd>
<p><em>Removed - redundant</em>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-configuration-properties"><a class="anchor" href="#new-configuration-properties"></a>New Configuration Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following new properties are added:</p>
</div>
<div id="remote-property" class="dlist">
<dl>
<dt class="hdlist1">remote</dt>
<dd>
<p>The <em>remote</em> property replaces the former <a href="#target-property">target</a>.</p>
<div class="paragraph">
<p>The <em>remote</em> property represents a database URL for the remote Sync Gateway.
To use another database hosted on this Sync Gateway, specify its full Sync Gateway database URL here.</p>
</div>
</dd>
<dt class="hdlist1">direction</dt>
<dd>
<p>The <em>direction</em> property indicates whether the replication is pushed or pulled by this node.
Valid values are: push, pull, and push_and_pull.</p>
</dd>
<dt class="hdlist1">conflict_resolution_type</dt>
<dd>
<p>The <em>conflict_resolution_type</em> property defines how conflicts are resolved.</p>
<div class="paragraph">
<p>Valid values are: default, localWins, remoteWins, custom</p>
</div>
</dd>
<dt class="hdlist1">custom_conflict_resolver</dt>
<dd>
<p>The <em>custom_conflict_resolver</em> property specifies the custom Javascript function to be used for conflict resolution. It is valid <strong>only</strong> when <code>conflict_resolution_type = custom</code>.</p>
</dd>
<dt class="hdlist1">purge_on_removal</dt>
<dd>
<p>Boolean value for whether channel removals should trigger purge
Defaults to false</p>
</dd>
<dt class="hdlist1">enable_delta_sync</dt>
<dd>
<p>Boolean value for whether to enable delta sync for this replication.</p>
</dd>
<dt class="hdlist1">maximum_backoff_time</dt>
<dd>
<p>The <em>maximum_backoff_time</em> property deines the period of time during which Sync Gateway will attempt to reconnect unreachable targets.</p>
</dd>
<dt class="hdlist1">Replication state</dt>
<dd>
<p>The <em>replication_state</em> property reports the current state of a replication.</p>
<div class="paragraph">
<p>Possible values in replicationStatus response bodies are: stopping, stopped, starting, active.</p>
</div>
<div class="paragraph">
<p>Valid values in configuration or in a payload to a replication endpoint are: stopping, starting.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="modified-configuration-properties"><a class="anchor" href="#modified-configuration-properties"></a>Modified Configuration Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following replication configuration properties have changed:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">cancel</dt>
<dd>
<p>This property requests a running replication stop. It is valid <strong>only</strong> when using ReplicationConfig for _replicate REST API calls.</p>
<div class="paragraph">
<p>If defined in the configuration schema, it will log an error and prevent start up.</p>
</div>
<div class="paragraph">
<p>When used in the REST API, you must specify the <code>replication_id</code> of a running replication or the request will return an error.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="retained-configuration-properties"><a class="anchor" href="#retained-configuration-properties"></a>Retained Configuration Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following replication configuration properties are retained unchanged:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>continuous</p>
</li>
<li>
<p>filter</p>
</li>
<li>
<p>query_params</p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2020 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
