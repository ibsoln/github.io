<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Release Notes for Couchbase Autonomous Operator 2.2 | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/3.0-GA/operator/current/release-notes.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="operator">
<meta name="dcterms.identifier" content="2.2">
<meta name="page-url" content="/operator/current/release-notes.html">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://ibsoln.github.io/stage/3.0-GA/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/3.0-GA/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile Stage
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    Cloud-Native
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Autonomous Operator</span>
        <select class="version_list" data-component="operator">
          <option value="2.2" data-url="overview.html" selected>2.2</option>
          <option value="2.0" data-url="../2.0/overview.html">2.0</option>
        </select>
      </div>
      <div class="version_items hide" data-version="2.2">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="overview.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="best-practices.html">Guidelines and Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-and-setup.html">Prerequisites and System Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-cloud.html">Public Cloud Prerequisites</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-kubernetes.html">Install the Operator on Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-openshift.html">Install the Operator on OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-networking.html">Kubernetes Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-persistent-volumes.html">Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-upgrade.html">Kubernetes Automated Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator.html">Operator Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-label-selection.html">Couchbase Resource Label Selection</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-rbac.html">Couchbase Resource RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-user-rbac.html">Couchbase User RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-memory-allocation.html">Couchbase Memory Allocation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-mds.html">Couchbase Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-scheduling.html">Couchbase Scheduling and Isolation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-sizing.html">Couchbase Sizing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-vertical-scaling.html">Couchbase Cluster Vertical Scaling</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="concept-couchbase-autoscaling.html">Couchbase Cluster Auto-scaling</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-autoscaling-best-practices.html">Auto-scaling Best Practices</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-networking.html">Couchbase Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-tls.html">Couchbase TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-credential-rotation.html">Couchbase Credential Rotation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-server-groups.html">Couchbase Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-upgrade.html">Couchbase Upgrades</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-hibernation.html">Couchbase Cluster Hibernation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-logging.html">Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-backup.html">Couchbase Backup and Restore</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-operator-upgrade.html">Upgrade the Operator</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-manage-operator-logging.html">Manage Operator Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-roll-your-own.html">Create Your Own Operator Images</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Lifecycle</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-create.html">Create a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-update.html">Modify a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-upgrade.html">Upgrade a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-delete.html">Delete a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-scale.html">Scale a Couchbase Deployment</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-persistent-volumes.html">Configure Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-backup.html">Configure Backup &amp; Restore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-mds.html">Configure Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-autoscaling.html">Configure Couchbase Cluster Auto-scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-xdcr.html">Configure XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-public-networking.html">Configure Public Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-nodeport-networking.html">Configure Node Port Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-server-groups.html">Configure Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-admin-password-rotation.html">Rotate the Administrator Password</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls.html">Configure TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-client-certificates.html">Configure Client Certificate Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-rotation.html">Rotate TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-prometheus.html">Configure Prometheus Metrics Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-manage-couchbase-logging.html">Manage Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-log-forwarding.html">Configure Log Forwarding</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-non-root-install.html">Configure Non-Root Installs</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Connect</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-ui.html">Access the Couchbase User Interface</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-client-sdks.html">Configure Client SDKs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-storage-class.html">Create a Lazy Bound Storage Class</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-setup-guide.html">Helm Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-managing-guide.html">Helm Management</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Resource Types</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-resources.html">Resource Documentation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseautoscaler.html">CouchbaseAutoscaler Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebackuprestore.html">CouchbaseBackupRestore Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebackup.html">CouchbaseBackup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebucket.html">CouchbaseBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasecluster.html">CouchbaseCluster Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseephemeralbucket.html">CouchbaseEphemeralBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasegroup.html">CouchbaseGroup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasememcachedbucket.html">CouchbaseMemcachedBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasereplication.html">CouchbaseReplication Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaserolebinding.html">CouchbaseRoleBinding Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseuser.html">CouchbaseUser Resource</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-admission-cli.html">Dynamic Admission Controller Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-admission-rbac.html">Dynamic Admission Controller RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-configuration.html">Operator Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-rbac.html">Operator RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-reference-architecture.html"><code>CouchbaseCluster</code> Reference Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-events.html"><code>CouchbaseCluster</code> Events</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-services.html"><code>CouchbaseCluster</code> Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-couchbase-config.html">Couchbase Helm Chart Specification</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tools</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tools/cbopcfg.html">cbopcfg</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tools/cbopinfo.html">cbopinfo</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tutorials</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Authentication and Authorization</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-rbac-auth.html">Authenticating with Couchbase and LDAP</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Autoscaling</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-data.html">Autoscaling Couchbase Data Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-index.html">Autoscaling Couchbase Index Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-query.html">Autoscaling Couchbase Query Service</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Backup</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-velero-backup.html">Backup with VMware Velero</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Cloud Platforms</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-aks.html">Installing AKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-eks.html">Installing EKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-gke.html">Installing GKE</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Logging</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-couchbase-log-forwarding.html">Forwarding Couchbase Logs with Fluent Bit</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Metering</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-metering-kubernetes.html">Metering Couchbase Resources In Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-metering.html">Metering Couchbase Resources In OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Monitoring</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-prometheus.html">Quick Start with Prometheus Monitoring</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Networking</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-remote-dns.html">Inter-Kubernetes Networking with Forwarded DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-public-addressability.html">Public Networking with External DNS</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Persistent Volumes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-volume-expansion.html">Persistent Volume Expansion</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync Gateway</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway.html">Connecting Sync-Gateway to a Couchbase Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-clients.html">Exposing Sync-Gateway to Couchbase Lite Clients</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-manage.html">Managing Sync Gateway Cluster </a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">TLS</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-tls.html">Creating TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-cert-manager.html">Using a Certificate Manager</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-current-page" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="release-notes.html">Release Notes</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
      <div class="version_items hide" data-version="2.0">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/overview.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/best-practices.html">Guidelines and Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/prerequisite-and-setup.html">Prerequisites and System Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/prerequisite-cloud.html">Public Cloud Prerequisites</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/install-kubernetes.html">Install the Operator on Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/install-openshift.html">Install the Operator on OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-kubernetes-networking.html">Kubernetes Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-persistent-volumes.html">Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-kubernetes-upgrade.html">Kubernetes Automated Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-operator.html">Couchbase Operator Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-operator-logging.html">Couchbase Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-label-selection.html">Couchbase Resource Label Selection</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-rbac.html">Couchbase Resource RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-user-rbac.html">Couchbase User RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-memory-allocation.html">Couchbase Memory Allocation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-mds.html">Couchbase Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-scheduling.html">Couchbase Scheduling and Isolation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-sizing.html">Couchbase Sizing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-vertical-scaling.html">Couchbase Cluster Vertical Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-couchbase-networking.html">Couchbase Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-tls.html">Couchbase TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-server-groups.html">Couchbase Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/concept-upgrade.html">Couchbase Upgrades</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-operator-upgrade.html">Upgrade the Operator</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-troubleshooting.html">View Operator Logs</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-roll-your-own.html">Create Your Own Operator Images</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Lifecycle</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-couchbase-create.html">Create a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-couchbase-update.html">Modify a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-couchbase-upgrade.html">Upgrade a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-couchbase-delete.html">Delete a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-couchbase-scale.html">Scale a Couchbase Deployment</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-persistent-volumes.html">Configure Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-persistent-volume-resize.html">Resize Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-backup.html">Configure Backup &amp; Restore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-mds.html">Configure Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-xdcr.html">Configure XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-public-networking.html">Configure Public Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-nodeport-networking.html">Configure Node Port Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-server-groups.html">Configure Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-tls.html">Configure TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-tls-client-certificates.html">Configure Client Certificate Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-tls-rotation.html">Rotate TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-prometheus.html">Configure Prometheus Metrics Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-non-root-install.html">Configure Non-Root Installs</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Connect</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-ui.html">Access the Couchbase User Interface</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-client-sdks.html">Configure Client SDKs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/howto-storage-class.html">Create a Lazy Bound Storage Class</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/helm-setup-guide.html">Helm Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/helm-managing-guide.html">Helm Management</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Resource Types</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../2.0/reference-couchbasecluster.html">CouchbaseCluster Resource</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasecluster-status.html">CouchbaseCluster Status</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasecluster-events.html">CouchbaseCluster Events</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../2.0/reference-couchbasebackup.html">CouchbaseBackup Resource</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasebackuprestore.html">CouchbaseBackupRestore Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasebackup-status.html">CouchbaseBackup and CouchbaseBackupRestore Status</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasebucket.html">CouchbaseBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbaseephemeralbucket.html">CouchbaseEphemeralBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasememcachedbucket.html">CouchbaseMemcachedBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasereplication.html">CouchbaseReplication Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbaseuser.html">CouchbaseUser Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasegroup.html">CouchbaseGroup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbaserolebinding.html">CouchbaseRoleBinding Resource</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-admission-rbac.html">Dynamic Admission Controller RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-operator-configuration.html">Operator Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-operator-rbac.html">Operator RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-couchbasecluster-services.html">CouchbaseCluster Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/helm-couchbase-config.html">Couchbase Helm Chart Specification</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tools</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-cbopcfg.html">cbopcfg</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/reference-cbopinfo.html">cbopinfo</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tutorials</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync Gateway</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-sync-gateway.html">Connecting Sync-Gateway to a Couchbase Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-sync-gateway-clients.html">Exposing Sync-Gateway to Couchbase Lite Clients</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-sync-gateway-manage.html">Managing Sync Gateway Cluster </a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-tls.html">Creating TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-remote-dns.html">Inter-Kubernetes Networking with Forwarded DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-public-addressability.html">Public Networking with External DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-velero-backup.html">Backup with VMware Velero</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-prometheus.html">Quick Start with Prometheus Monitoring</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-rbac-auth.html">Authenticating with Couchbase and LDAP</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-aks.html">Installing AKS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-eks.html">Installing EKS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/tutorial-gke.html">Installing GKE</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../2.0/release-notes.html">Release Notes</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
        <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Autonomous Operator</a></li>
<li class="crumb">Release Notes</li>
<li class="crumb"><a href="release-notes.html">Release Notes</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Release Notes for Couchbase Autonomous Operator 2.2</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Autonomous Operator 2.2 is a significant release that expands support for auto-scaling Couchbase clusters, and adds several improvements in the areas of logging and security.</p>
</div>
<div class="paragraph">
<p>Take a look at the <a href="whats-new.html" class="page">What&#8217;s New</a> page for a list of new features and improvements that are available in this release.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation"><a class="anchor" href="#installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For installation instructions, refer to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="install-kubernetes.html" class="page">Install the Operator on Kubernetes</a></p>
</li>
<li>
<p><a href="install-openshift.html" class="page">Install the Operator on OpenShift</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-to-autonomous-operator-2-2"><a class="anchor" href="#upgrading-to-autonomous-operator-2-2"></a>Upgrading to Autonomous Operator 2.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The necessary steps needed to upgrade to this release depend on which version of the Autonomous Operator you are upgrading from.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Version 1.x.x</p>
<div class="ulist">
<ul>
<li>
<p>There is no direct upgrade path from versions prior to 2.0.x.
To upgrade from a 1.x.x release, you must first upgrade to 2.0.x, paying particular attention to supported Kubernetes platforms and Couchbase Server versions.
Refer to the <a href="../2.0/howto-operator-upgrade.html" class="page">2.0.x upgrade steps</a> if upgrading from a 1.x.x release.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 2.0.x</p>
<div class="ulist">
<ul>
<li>
<p>Additional steps and considerations are required when upgrading from version 2.0.x.
Please refer to <a href="#upgrade-v20x">Upgrading from Version 2.0.x</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Version 2.1.x</p>
<div class="ulist">
<ul>
<li>
<p>There are no additional upgrade steps or considerations when upgrading from this version.
You may follow <a href="howto-operator-upgrade.html" class="page">standard upgrade process</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="upgrade-v20x"><a class="anchor" href="#upgrade-v20x"></a>Upgrading from Version 2.0.x</h3>
<div class="paragraph">
<p>First, ensure that you are running <a href="prerequisite-and-setup.html" class="page">compatible versions</a> of Kubernetes and Couchbase Server before upgrading.</p>
</div>
<div class="sect3">
<h4 id="tls-requirements"><a class="anchor" href="#tls-requirements"></a>TLS Requirements</h4>
<div class="paragraph">
<p>If you are <strong>not</strong> utilizing TLS, you can skip this section.</p>
</div>
<div class="paragraph">
<p>The TLS requirements have been modified as of Autonomous Operator 2.1.
In order to ease the migration from legacy client bootstrap (CCCP) to the newest version (GCCCP), the Autonomous Operator requires Couchbase cluster subject alternative names (SANs) to be updated.
Consult the <a href="tutorial-tls.html" class="page">TLS tutorial</a> for a full list of all the required SANs, and the <a href="howto-tls-rotation.html" class="page">TLS rotation guide</a> in order to prepare for upgrade.
Failure to perform this step will result in errors from the dynamic admission controller (DAC) once upgraded.</p>
</div>
</div>
<div class="sect3">
<h4 id="mandatory-couchbase-upgrade-cycle"><a class="anchor" href="#mandatory-couchbase-upgrade-cycle"></a>Mandatory Couchbase Upgrade Cycle</h4>
<div class="paragraph">
<p>When upgrading from version 2.0.x, Couchbase clusters will undergo a mandatory upgrade cycle.</p>
</div>
<div class="paragraph">
<p>Pod readiness checks were previously driven by an <code>exec</code> based readiness probe.
This was a security concern because it granted the Autonomous Operator <code>pods/exec</code> privileges, which may not be acceptable in highly regulated environments.
As of Autonomous Operator 2.1, readiness checks are performed using readiness gates that use the Kubernetes API exclusively.</p>
</div>
<div class="paragraph">
<p>You can use the <a href="resource/couchbasecluster.html#couchbaseclusters-spec-rollingupgrade" class="page"><code>couchbaseclusters.spec.rollingUpgrade</code></a> configuration parameter to speed up this upgrade.
To enable this feature while upgrading the Autonomous Operator, stop the old Operator, replace the CRDs, edit the <a href="resource/couchbasecluster.html#couchbaseclusters-spec-rollingupgrade" class="page"><code>couchbaseclusters.spec.rollingUpgrade</code></a> field to enable bulk upgrades, then start the new Operator.
Refer to <a href="howto-operator-upgrade.html" class="page">Upgrade the Operator</a> for further details.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-v223"><a class="anchor" href="#release-v223"></a>Release 2.2.3</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Autonomous Operator 2.2.3 was released in March 2022.</p>
</div>
<div class="sect2">
<h3 id="common-vulnerabilities-and-exposures"><a class="anchor" href="#common-vulnerabilities-and-exposures"></a>Common Vulnerabilities and Exposures</h3>
<div class="paragraph">
<p>This section lists common vulnerabilities and exposures that are fixed in this release.</p>
</div>
<div class="paragraph">
<p>See <a href="https://www.couchbase.com/alerts">Couchbase Alerts</a> for the complete list of common vulnerabilities and exposures.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://nvd.nist.gov/vuln/detail/CVE-2022-26311">CVE-2022-26311</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-v222"><a class="anchor" href="#release-v222"></a>Release 2.2.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Autonomous Operator 2.2.2 was released in December 2021.</p>
</div>
<div class="sect2">
<h3 id="changes-in-behavior-v222"><a class="anchor" href="#changes-in-behavior-v222"></a>New Features and Behavioral Changes</h3>
<div class="sect3">
<h4 id="configurable-addressability-timeouts"><a class="anchor" href="#configurable-addressability-timeouts"></a>Configurable Addressability Timeouts</h4>
<div class="paragraph">
<p>When using <a href="concept-couchbase-networking.html#public-networking-with-external-dns" class="page">public networking with external-DNS</a> or <a href="concept-couchbase-networking.html#generic-networking" class="page">generic networking</a>, the Operator polls new cluster members to ensure addressability and connectivity before allowing the member to be added to the cluster.
Failure to do so would result in client errors and partial availability.</p>
</div>
<div class="paragraph">
<p>This has a downside in that polling DNS immediately would poison caching DNS servers with negative lookup results (<a href="https://datatracker.ietf.org/doc/html/rfc2308" target="_blank" rel="noopener">negative caching</a>).</p>
</div>
<div class="paragraph">
<p>In order to mitigate this problem, a new field <a href="resource/couchbasecluster.html#couchbaseclusters-spec-networking-waitforaddressreachabledelay" class="page"><code>couchbaseclusters.spec.networking.waitForAddressReachableDelay</code></a>, is introduced.
This allows a time period to be configured between pod creation and polling, allowing time for load balancers to be provisioned and DNS entries to be propagated.
This defaults to <code>2m</code>, changing the old behavior of immediate polling.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-v222"><a class="anchor" href="#fixed-issues-v222"></a>Fixed Issues</h3>
<table id="table-fixed-issues-v222" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.4725%;">
<col style="width: 72.5275%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2521" target="_blank" rel="noopener">K8S-2521</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> When backup and restore jobs are run, they may do so with a security context.
Previously, backup jobs would have run with a security context (typically UID 1000 as advised by the documentation).
A restore job did not have the security context associated with it, but worked as the container image&#8217;s default UID was 1000.
With newer backup images (1.1.1 and greater), the default UID of the container image has changed, so this will no longer work, as the restore user does not match the backup user.</p>
</div>
<div class="paragraph">
<p>To remedy this, the security context is now attached to the restore job also.
This issue affects users running with a UID other than 1000, and users for backup 1.1.1 and greater.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-v221"><a class="anchor" href="#release-v221"></a>Release 2.2.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Autonomous Operator 2.2.1 was released in August 2021.</p>
</div>
<div class="sect2">
<h3 id="changes-in-behavior-v221"><a class="anchor" href="#changes-in-behavior-v221"></a>New Features and Behavioral Changes</h3>
<div class="sect3">
<h4 id="new-prometheus-logging-and-backup-defaults"><a class="anchor" href="#new-prometheus-logging-and-backup-defaults"></a>New Prometheus, Logging and Backup Defaults</h4>
<div class="paragraph">
<p>The new default images are <code>couchbase/exporter:1.0.5</code> and <code>couchbase/fluent-bit:1.0.4</code>.
The latest backup image is <code>couchbase/operator-backup:1.1.1</code>.
These images feature functional and security updates.</p>
</div>
<div class="paragraph">
<p>Existing clusters will continue to use the component versions they were provisioned with.
Should you wish to update existing Couchbase clusters to make use of these new images, then they will undergo a rolling upgrade to facilitate the update.
You should plan a maintenance window accordingly.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-v221"><a class="anchor" href="#fixed-issues-v221"></a>Fixed Issues</h3>
<table id="table-fixed-issues-v221" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.4725%;">
<col style="width: 72.5275%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2273" target="_blank" rel="noopener">K8S-2273</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> When using Istio with mTLS in STRICT mode, there is the possibility of a race condition that prevents traffic between the operator and new server pods.
Typically this issue is observed as an <code>EOL</code> error when the operator uses the REST API of the new pods.
On previous versions, the Istio annotations were not preserved.
This has been remedied by ensure the Istio annotations are maintained on any pods and allow for mTLS in STRICT mode for everything except for the DAC, which requires PERMISSIVE mode regardless to communicate over TLS with the Kubernetes API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2288" target="_blank" rel="noopener">K8S-2288</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> A new pod annotation was added in 2.2.0 to record whether Couchbase Server was fully initialized or not, as Couchbase Server will not work as required by the Operator until initialization is performed.
The intention was to remove a deadlock situation that the Operator was unable to recover from.</p>
</div>
<div class="paragraph">
<p>Due to a combination of <a href="https://issues.couchbase.com/browse/K8S-2273" target="_blank" rel="noopener">K8S-2273</a>, and the label not being correctly checked, it is possible&#8201;&#8212;&#8201;in the event of a network partition between the Operator and all pods in a Couchbase cluster, for example&#8201;&#8212;&#8201;for the Operator to determine all nodes are uninitialized, and for them to be deleted.</p>
</div>
<div class="paragraph">
<p>For any type of cluster, this risks service disruption.  For an ephemeral cluster&#8201;&#8212;&#8201;without persistent storage backing&#8201;&#8212;&#8201;this would also result in total data loss.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2248" target="_blank" rel="noopener">K8S-2248</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> The Couchbase Prometheus Exporter image default has been updated to the most recent version.
This provides numerous stability fixes and enhanced security.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2297" target="_blank" rel="noopener">K8S-2297</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> The node selector defined for backups was only applied to the backup <code>Cronjob</code>, and not the restore <code>Job</code> also.
This behavior has been fixed so the restores happen on the same nodes as backups.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2293" target="_blank" rel="noopener">K8S-2293</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> A defect was discovered where view service ports were only enabled for Couchbase Server instances with the index service enabled, as opposed to the data service.
This has now been fixed to enable the ports on data service instances.</p>
</div>
<div class="paragraph">
<p>This defect only affects users of map-reduce views, and only when used over an exposed feature from a network outside of Kubernetes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2302" target="_blank" rel="noopener">K8S-2302</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> The LDAP cache timeout configuration value was optional, and had no default.
As a result, this would not equal the Couchbase Server provided default of 30000 and result in constant updates.
The <code>CouchbaseCluster</code> CRD has now been amended to provide this default and avoid the problem.</p>
</div>
<div class="paragraph">
<p>Additionally defaults have been provided for the LDAP port and LDAP group search depth, and better range checking.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2537" target="_blank" rel="noopener">K8S-2537</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> New Operator Backup image is published which is tested against Couchbase Autonomous Operator 2.2.1 and later with no changes in the Couchbase Autonomous Operator.
We recommend updating to <code>couchbase/operator-backup:1.1.1</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-v220"><a class="anchor" href="#release-v220"></a>Release 2.2.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Autonomous Operator 2.2.0 was released in June 2021.</p>
</div>
<div class="sect2">
<h3 id="supported-platforms-v220"><a class="anchor" href="#supported-platforms-v220"></a>Platform Support</h3>
<div class="paragraph">
<p>For the latest platform support information, refer to <a href="prerequisite-and-setup.html" class="page">Prerequisites and System Requirements</a>.</p>
</div>
<div class="sect3">
<h4 id="new-platform-support"><a class="anchor" href="#new-platform-support"></a>New Platform Support</h4>
<div class="paragraph">
<p>This release <em>adds</em> support for the following platforms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open Source Kubernetes 1.20, 1.21</p>
</li>
<li>
<p>Red Hat OpenShift Container Platform 4.7</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This release also adds support for the following utilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rancher</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removed-platform-support"><a class="anchor" href="#removed-platform-support"></a>Removed Platform Support</h4>
<div class="paragraph">
<p>This release <em>drops</em> support for the following platforms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open Source Kubernetes 1.15, 1.16</p>
</li>
<li>
<p>Red Hat OpenShift Container Platform 4.3</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-behavior-v220"><a class="anchor" href="#changes-in-behavior-v220"></a>New Features and Behavioral Changes</h3>
<div class="sect3">
<h4 id="couchbase-cluster-auto-scaling"><a class="anchor" href="#couchbase-cluster-auto-scaling"></a>Couchbase Cluster Auto-scaling</h4>
<div class="paragraph">
<p>The Autonomous Operator now supports Couchbase cluster auto-scaling for <em>all</em> Couchbase services.
This means that Couchbase cluster server class configurations containing stateful services like Data and Index can now be configured to automatically scale in response to observed metrics.
(Previously, only stateless deployments of the Query Service were supported.)</p>
</div>
<div class="paragraph">
<p>To help users get started in production, an <a href="concept-couchbase-autoscaling-best-practices.html" class="page">auto-scaling best practices guide</a> has been provided.
This guide discusses relevant metrics for scaling individual Couchbase Services, and includes recommended settings based on internal benchmark testing performed by Couchbase.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About Auto-scaling Preview Mode</div>
<div class="paragraph">
<p>When cluster auto-scaling was introduced in Autonomous Operator 2.1, only stateless configurations that included the Query Service and Ephemeral buckets were supported.
However, a special preview mode could be enabled that allowed stateful server configurations other than <code>query</code> to be auto-scaled.
This preview mode was enabled by setting <a href="resource/couchbasecluster.html#couchbaseclusters-spec-enablepreviewscaling" class="page"><code>couchbaseclusters.spec.enablePreviewScaling</code></a> to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>In Autonomous Operator 2.2, cluster auto-scaling can be enabled for any service or configuration, whether stateful or stateless.
As a result, <a href="resource/couchbasecluster.html#couchbaseclusters-spec-enablepreviewscaling" class="page"><code>couchbaseclusters.spec.enablePreviewScaling</code></a> has been deprecated and is now ignored by the Autonomous Operator.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Related Links</div>
<ul>
<li>
<p><strong>Learn</strong>: <a href="concept-couchbase-autoscaling.html" class="page">Couchbase Cluster Auto-scaling</a></p>
</li>
<li>
<p><strong>Learn</strong>: <a href="concept-couchbase-autoscaling-best-practices.html" class="page">Couchbase Cluster Auto-scaling Best Practices</a></p>
</li>
<li>
<p><strong>Manage</strong>: <a href="howto-couchbase-autoscaling.html" class="page">Configure Couchbase Cluster Auto-scaling</a></p>
</li>
<li>
<p><strong>Tutorial</strong>: <a href="tutorial-autoscale-query.html" class="page">Auto-scaling the Couchbase Query Service</a></p>
</li>
<li>
<p><strong>Tutorial</strong>: <a href="tutorial-autoscale-data.html" class="page">Auto-scaling the Couchbase Data Service</a></p>
</li>
<li>
<p><strong>Tutorial</strong>: <a href="tutorial-autoscale-index.html" class="page">Auto-scaling the Couchbase Index Service</a></p>
</li>
<li>
<p><strong>Reference</strong>: <a href="resource/couchbaseautoscaler.html" class="page">CouchbaseAutoscaler Resource</a></p>
</li>
<li>
<p><strong>Reference</strong>: <a href="reference-couchbasecluster-events.html#autoscaling-lifecycle" class="page">Auto-scaling Lifecycle Events</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="online-expansion-of-persistent-volumes"><a class="anchor" href="#online-expansion-of-persistent-volumes"></a>Online Expansion of Persistent Volumes</h4>
<div class="paragraph">
<p>The <a href="resource/couchbasecluster.html#couchbaseclusters-spec-enableonlinevolumeexpansion" class="page"><code>couchbaseclusters.spec.enableOnlineVolumeExpansion</code></a> has been added to allow for the expansion of persistent volumes that are already in use by Couchbase clusters, thus removing the need for a rolling upgrade of cluster pods.
The Autonomous Operator achieves this by working in conjunction with <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#expanding-persistent-volumes-claims" target="_blank" rel="noopener">Kubernetes Persistent Volume Expansion</a> to claim additional storage for running pods without any downtime.</p>
</div>
<div class="paragraph">
<p>For additional information and requirements, refer to <a href="howto-persistent-volumes.html#online-volume-expansion" class="page">Online Volume Expansion</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="log-forwarding-and-audit-log-management"><a class="anchor" href="#log-forwarding-and-audit-log-management"></a>Log Forwarding and Audit Log Management</h4>
<div class="paragraph">
<p>The Autonomous Operator now supports <a href="concept-couchbase-logging.html#log-forwarding" class="page"><em>log forwarding</em></a> through the optional deployment of a third party log processor.
The log processor runs in a sidecar container on each Couchbase pod, which then reads the log files and forwards them to standard console output.
For this purpose, Couchbase supplies a default <a href="https://hub.docker.com/r/couchbase/fluent-bit" target="_blank" rel="noopener">log processor image</a> based on <a href="https://fluentbit.io/" target="_blank" rel="noopener">Fluent Bit</a>.</p>
</div>
<div class="paragraph">
<p>In addition, audit logging can now be configured via the <a href="resource/couchbasecluster.html" class="page"><code>CouchbaseCluster</code></a> resource specification, thus allowing for <a href="howto-manage-couchbase-logging.html#configuring-audit-logging" class="page">automated audit logging</a> via the Autonomous Operator.</p>
</div>
</div>
<div class="sect3">
<h4 id="improved-security-defaults"><a class="anchor" href="#improved-security-defaults"></a>Improved Security Defaults</h4>
<div class="paragraph">
<p>The Couchbase Server default minimum TLS version is 1.0.
This is insecure and easily compromised if a client downgrades to a version less than 1.2.
Operator 2.2 makes TLS 1.2 the minimum by default, and will automatically update the TLS minimum version unless it is explicitly specified with the <a href="resource/couchbasecluster.html#couchbaseclusters-spec-networking-tls-tlsminimumversion" class="page"><code>couchbaseclusters.spec.networking.tls.tlsMinimumVersion</code></a> parameter.</p>
</div>
<div class="paragraph">
<p>You can prevent this change from occurring when <a href="howto-operator-upgrade.html" class="page">upgrading the Operator</a> on existing clusters by setting <a href="resource/couchbasecluster.html#couchbaseclusters-spec-networking-tls-tlsminimumversion" class="page"><code>couchbaseclusters.spec.networking.tls.tlsMinimumVersion</code></a> to <code>TLS1.0</code> after upgrading the CRDs, and before restarting the Operator.</p>
</div>
</div>
<div class="sect3">
<h4 id="improved-tls-certificate-and-key-handling"><a class="anchor" href="#improved-tls-certificate-and-key-handling"></a>Improved TLS Certificate and Key Handling</h4>
<div class="paragraph">
<p>Couchbase Server requires that the TLS resources be called <code>pkey.key</code> and <code>chain.pem</code>, however the majority of 3rd-party certificate managers generate <code>tls.key</code> and <code>tls.crt</code>.
This format is governed by the Kubernetes <code>kubernetes.io/tls</code> secret type.
To provide integration with 3rd-party providers, and to maintain backward compatibility with existing clusters, the Operator now provides secret shadowing.</p>
</div>
<div class="paragraph">
<p>A new TLS source&#8201;&#8212;&#8201;<a href="resource/couchbasecluster.html#couchbaseclusters-spec-networking-tls-secretsource" class="page"><code>couchbaseclusters.spec.networking.tls.secretSource</code></a>&#8201;&#8212;&#8201;allows you to use <code>kubernetes.io/tls</code> type secrets to configure Couchbase Server.
When using this new TLS source, a shadow copy of the TLS secret is created, with the key names changed to those hard coded in Couchbase Server.
The shadow secret can then be mounted and used inside Couchbase Server pods.
As the secret is shadowed, the Operator can reformat private keys, and therefore now supports PKCS#8 formatted private keys.</p>
</div>
<div class="paragraph">
<p>3rd-party certificate managers can be used with clusters that are configured with this new TLS source.
Refer to the tutorial <a href="tutorial-cert-manager.html" class="page">Using a Certificate Manager</a> for an example.</p>
</div>
<div class="paragraph">
<p>For existing clusters using the legacy <a href="resource/couchbasecluster.html#couchbaseclusters-spec-networking-tls-static" class="page"><code>couchbaseclusters.spec.networking.tls.static</code></a> source, the Operator works as before&#8201;&#8212;&#8201;directly mounting and consuming the TLS secret without a shadow secret.</p>
</div>
</div>
<div class="sect3">
<h4 id="improved-server-group-support"><a class="anchor" href="#improved-server-group-support"></a>Improved Server Group Support</h4>
<div class="paragraph">
<p>Prior to this release, server groups had to be enabled on cluster creation, and were immutable for the lifetime of the cluster.
These restrictions have now been lifted.</p>
</div>
<div class="paragraph">
<p>It is now possible to enable Couchbase Server groups, and Operator pod scheduling, while a cluster is running.</p>
</div>
<div class="paragraph">
<p>It is also now possible to modify the list of server groups used for scheduling.
Previously if an availability zone were to suffer an outage, the Operator would continually attempt to recreate failed pods in the same availability zone to maintain even balance across the requested set.
While the availability zone continues to suffer an outage, the Couchbase cluster would be undersized, potentially impacting the ability to service client requests.
This release allows the availability zones to be modified, excluding the failed one, so that the Operator is able to scale the cluster back up to the correct size.</p>
</div>
<div class="paragraph">
<p>All server group migration operations use a shortest-path algorithm in order to minimize disruption.</p>
</div>
</div>
<div class="sect3">
<h4 id="improved-xdcr-connection-support"><a class="anchor" href="#improved-xdcr-connection-support"></a>Improved XDCR Connection Support</h4>
<div class="paragraph">
<p>Prior to this release, any updates to XDCR remote clusters would be silently ignored.
In order to modify any setting, the remote cluster and all replications would have to be deleted and recreated from scratch.</p>
</div>
<div class="paragraph">
<p>This release adds the ability to modify remote cluster identification and authentication settings.
This provides the ability to rotate passwords and certificates on the remote cluster, or even replace the remote cluster entirely.</p>
</div>
</div>
<div class="sect3">
<h4 id="automatic-resource-allocation"><a class="anchor" href="#automatic-resource-allocation"></a>Automatic Resource Allocation</h4>
<div class="paragraph">
<p>Kubernetes allows pods to reserve and limit compute resources.
Resource reservation provides Kubernetes with the ability to fairly schedule pods so that they don&#8217;t compete for CPU and memory.</p>
</div>
<div class="paragraph">
<p>The Operator now provides the ability to automatically manage pod CPU and memory resource requests with the <a href="resource/couchbasecluster.html#couchbaseclusters-spec-autoresourceallocation" class="page"><code>couchbaseclusters.spec.autoResourceAllocation</code></a> field.
When in use, pods will have their resource requests automatically populated depending on the services enabled on that pod, and the individual Couchbase service quotas.</p>
</div>
<div class="paragraph">
<p>Updating quotas will cause the cluster to upgrade as pod resource requests are updated.
A new dummy memory quota for the query service is introduced to allow management of memory resource requests, even though Couchbase itself does not provide the ability to constrain this service.</p>
</div>
</div>
<div class="sect3">
<h4 id="enhanced-couchbase-upgrade-behavior"><a class="anchor" href="#enhanced-couchbase-upgrade-behavior"></a>Enhanced Couchbase Upgrade Behavior</h4>
<div class="paragraph">
<p>Prior to this release, the Operator allowed two types of upgrade&#8201;&#8212;&#8201;a one pod at a time rolling upgrade, and a whole cluster upgrade.</p>
</div>
<div class="paragraph">
<p>This release allows rolling upgrades to be extended to upgrade either a fixed number of pods, or a percentage of the cluster size.
Both values can be set, and the Autonomous Operator will select the one that results in the fewest number of pods being upgraded at a time.</p>
</div>
<div class="paragraph">
<p>Rolling upgrades can be configured with the <a href="resource/couchbasecluster.html#couchbaseclusters-spec-rollingupgrade" class="page"><code>couchbaseclusters.spec.rollingUpgrade</code></a> parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A whole cluster "immediate" upgrade is now synonymous with a rolling upgrade set to upgrade 100% of the cluster at a time.
Immediate upgrades may be removed at some point in the future as it duplicates functionality.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="enhanced-backup-and-restore"><a class="anchor" href="#enhanced-backup-and-restore"></a>Enhanced Backup and Restore</h4>
<div class="paragraph">
<p>With the release of Autonomous Operator 2.2, the <a href="https://hub.docker.com/r/couchbase/operator-backup" target="_blank" rel="noopener"><code>operator-backup</code></a> container image has been enhanced to support a wider range of Couchbase Server and Autonomous Operator versions.
As part of this update, the <code>operator-backup</code> image has switched to semantic versioning which is no longer based on Couchbase Server version.</p>
</div>
<div class="paragraph">
<p>At the time of this writing, the new image&#8201;&#8212;&#8201;<a href="https://hub.docker.com/r/couchbase/operator-backup" target="_blank" rel="noopener"><code>operator-backup:1.1.0</code></a>&#8201;&#8212;&#8201;is compatible with all versions of the Autonomous Operator that support <a href="concept-backup.html" class="page">managed backup and restore</a> (version 2.0 and later).</p>
</div>
<div class="paragraph">
<p>The new image is still based on the <a href="#server:backup-restore:cbbackupmgr.adoc" class="page unresolved"><code>cbbackupmgr</code></a> utility, therefore its ability to backup and restore data between different versions of Couchbase Server is still dependent on the <a href="../../server/current/backup-restore/enterprise-backup-restore.html#version-compatibility" class="page">compatibility of the underlying <code>cbbackupmgr</code> version</a>.
However, the <a href="https://hub.docker.com/r/couchbase/operator-backup" target="_blank" rel="noopener"><code>operator-backup:1.1.0</code></a> image is based on <a href="#6.6@server:backup-restore:cbbackupmgr.adoc" class="page unresolved"><code>cbbackupmgr 6.6.2</code></a>, which is capable of backing up and restoring data from all versions of Couchbase Server that have ever been supported by the Autonomous Operator up to this point.
When support for new Couchbase Server versions is added to the Autonomous Operator, support for backing up those versions will be added to the latest <a href="https://hub.docker.com/r/couchbase/operator-backup" target="_blank" rel="noopener"><code>operator-backup</code></a> image.</p>
</div>
<div class="sect4">
<h5 id="online-backup-volume-resizing"><a class="anchor" href="#online-backup-volume-resizing"></a>Online Backup Volume Resizing</h5>
<div class="paragraph">
<p>While not a replacement for a properly implemented monitoring solution, it may be beneficial to have your backup storage grow with your requirements.
To this end, the Autonomous Operator now supports <a href="howto-backup.html#online-backup-volume-resizing" class="page">online resizing of backup volumes</a>.</p>
</div>
<div class="paragraph">
<p>Backup volumes can be resized in one of two ways:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Backup volumes can be <a href="howto-backup.html#manual-backup-volume-resizing" class="page">manually resized</a> by directly editing the <a href="resource/couchbasebackup.html#couchbasebackups-spec-size" class="page"><code>couchbasebackups.spec.size</code></a> field.</p>
</li>
<li>
<p>Backup volumes can be <a href="howto-backup.html#automated-backup-volume-resizing" class="page">automatically resized</a> by the Autonomous Operator, thus keeping backups to the minimum size necessary to operate, helping to reduce cost while also supporting future expansion.
In this mode of operation, the <a href="resource/couchbasebackup.html#couchbasebackups-spec-autoscaling" class="page"><code>couchbasebackups.spec.autoScaling</code></a> field controls the behavior.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In order to use any of these resize capabilities, the underlying StorageClass associated with the backup volume must be configured to allow volume expansion.</p>
</div>
</div>
<div class="sect4">
<h5 id="general-backup-and-restore-enhancements"><a class="anchor" href="#general-backup-and-restore-enhancements"></a>General Backup and Restore Enhancements</h5>
<div class="paragraph">
<p>By default, backup and restore operations execute with only a single thread of execution, which can sometimes lead to poor performance.
To mitigate thread-related performance issues, <a href="resource/couchbasebackup.html#couchbasebackups-spec-threads" class="page"><code>couchbasebackups.spec.threads</code></a> and <a href="resource/couchbasebackuprestore.html#couchbasebackuprestores-spec-threads" class="page"><code>couchbasebackuprestores.spec.threads</code></a> can now be specified to configure the number of concurrent <a href="#server:backup-restore:cbbackupmgr.adoc" class="page unresolved"><code>cbbackupmgr</code></a> clients to use when backing up or restoring data.</p>
</div>
<div class="paragraph">
<p>This release also introduces filters that allow you to control exactly what is restored from a backup.
In previous releases, restore operations were fairly inflexible in that the only option was to restore all data from a backup.
Now you can choose to include or exclude specific buckets, restore data for a particular service, and even restore to a different bucket name when restoring documents.
Refer to <a href="howto-backup.html#additional-restore-options" class="page">Additional Restore Options</a> for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="customizable-prometheus-metrics"><a class="anchor" href="#customizable-prometheus-metrics"></a>Customizable Prometheus Metrics</h4>
<div class="paragraph">
<p>The latest version of the Couchbase Prometheus Exporter allows for certain customizations to exported metrics.
The following customizations are currently supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change the namespace, subsystem, name, and help text for each metric.</p>
</li>
<li>
<p>Enable and disable whether a metric is exported to Prometheus.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, refer to <a href="howto-prometheus.html#customizing-metrics" class="page">Customizing Metrics</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-v220"><a class="anchor" href="#fixed-issues-v220"></a>Fixed Issues</h3>
<table id="table-fixed-issues-v220" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.4725%;">
<col style="width: 72.5275%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2180" target="_blank" rel="noopener">K8S-2180</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> When using service types in both the console and exposed feature service templates, a logical problem meant that the deprecated service type field defaults overwrote those provided in the template.
For example, when setting the template type to <code>LoadBalancer</code>, this may have ended up as <code>NodePort</code> due to the old defaults taking precedence.
This has now been fixed so that the template will take precedence.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2128" target="_blank" rel="noopener">K8S-2128</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> Prior to backup images <code>couchbase/operator-backup:6.5.0-XXX</code>, <code>couchbase/operator-backup:6.6.0-XXX</code>, and <code>couchbase/operator-backup:1.0.0</code> a bug meant that all backup traffic between the job and Couchbase server was in plain text.
While these backup images will work with plain TLS and mTLS, it will not work with mandatory mTLS configurations, as <code>cbbackupmgr</code> does not support client certificate authentication.
Autonomous Operator 2.2 will fall back to plain text backup when using mandatory mTLS in order to facilitate functional backups.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2092" target="_blank" rel="noopener">K8S-2092</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> Istio in mTLS mode is unable to run using <code>Job</code> or <code>CronJob</code> resource types.
This is due to the Envoy sidecar proxy not terminating when a backup or restore <code>Job</code> does, thus keeping the <code>Pod</code> alive and blocking further execution.
This is remedied in Couchbase Operator Backup versions 1.0.0 and above by sending a termination signal to the Envoy side car on termination of the backup and restore <code>Job</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2071" target="_blank" rel="noopener">K8S-2071</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> On dynamic platforms (GKE Autopilot being one example), where deployments can be rescheduled to better utilize system resources, we detected a deadlock situation.
In this scenario, the Autonomous Operator could be terminated while a Couchbase Server pod was still being initialized, and thus on restart it would look okay, however Couchbase Server would refuse to respond to the Autonomous Operator.
This has been remedied by annotating Couchbase Server pods when we know they have been fully initialized, and thus can be terminated when we know they are uninitialized and it&#8217;s safe to do so, then re-created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2060" target="_blank" rel="noopener">K8S-2060</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> A bug in the Autonomous Operator meant that when using LDAP groups, nesting could not be turned off.
This is now fixed in this release.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2059" target="_blank" rel="noopener">K8S-2059</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> Prior to this release, setting the auto-compaction time window managed the wrong configuration settings, resulting in auto-compaction running at unexpected times.
This has now been fixed to update the correct settings.
Be aware that when upgrading to this release with non-default auto-compaction settings, this will cease to erroneously manage index auto-compaction, and start managing global auto-compaction.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2052" target="_blank" rel="noopener">K8S-2052</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> A race condition existed where the Autonomous Operator was restarted and a backup <code>Pod</code> was still executing.
This <code>Pod</code> was erroneously considered as part of a metadata update routine and caused a crash loop until the backup terminated.
This has now been fixed by correctly filtering the pods considered for metadata updates to only include Couchbase Server instances.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="known-issues-v220"><a class="anchor" href="#known-issues-v220"></a>Known Issues</h3>
<table id="table-known-issues-v220" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.4725%;">
<col style="width: 72.5275%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://issues.couchbase.com/browse/K8S-2248" target="_blank" rel="noopener">K8S-2248</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Summary:</strong> Issues exist with the default Prometheus Exporter container image set by the Dynamic Admission Controller.</p>
</div>
<div class="paragraph">
<p><strong>Workaround:</strong> It is recommended that you <em>manually</em> set <a href="resource/couchbasecluster.html#couchbaseclusters-spec-monitoring-prometheus-image" class="page"><code>couchbaseclusters.spec.monitoring.prometheus.image</code></a> to <code>couchbase/exporter:1.0.5</code> in order to take advantage of the latest fixes.
Note that changing the Couchbase Prometheus Exporter image for an existing Couchbase cluster will result in a rolling upgrade of the cluster pods.
This does not cause any loss of services, but may use system resources&#8201;&#8212;&#8201;therefore it is recommended that this be done during non-peak workload.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="other-notable-changes"><a class="anchor" href="#other-notable-changes"></a>Other Notable Changes</h4>
<div class="ulist">
<ul>
<li>
<p>The dynamic admission controller (DAC) now allows <a href="resource/couchbasecluster.html#couchbaseclusters-spec-servers-volumeMounts-index" class="page">couchbaseclusters.spec.servers.volumeMounts.index</a> to be configured for server classes that include the Search Service and that don&#8217;t include the Index Service.
Previously, the DAC would reject configurations that specified the index volume mount unless the Index Service was also included in the server class.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="feedback"><a class="anchor" href="#feedback"></a>Feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can have a big impact on future versions of the Operator (and its documentation) by providing Couchbase with your direct feedback and observations. Please feel free to post your questions and comments to the <a href="https://forums.couchbase.com/c/couchbase-server/Kubernetes">Couchbase Forums</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="licenses-for-third-party-components"><a class="anchor" href="#licenses-for-third-party-components"></a>Licenses for Third-Party Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The complete list of licenses for Couchbase products is available on the <a href="https://www.couchbase.com/legal/agreements">Legal Agreements</a> page. Couchbase is thankful to all of the individuals that have created these third-party components.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-information"><a class="anchor" href="#more-information"></a>More Information</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="../../server/current/release-notes/relnotes.html" class="page">Couchbase Server Release Notes</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
