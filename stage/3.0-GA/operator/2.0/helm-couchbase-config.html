<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Couchbase Helm Chart Specification | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/3.0-GA/operator/current/helm-couchbase-config.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="operator">
<meta name="dcterms.identifier" content="2.0">
<meta name="page-url" content="/operator/2.0/helm-couchbase-config.html">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://ibsoln.github.io/stage/3.0-GA/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/3.0-GA/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile Stage
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    Cloud-Native
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Autonomous Operator</span>
        <select class="version_list" data-component="operator">
          <option value="2.2" data-url="../current/overview.html">2.2</option>
          <option value="2.0" data-url="overview.html" selected>2.0</option>
        </select>
      </div>
      <div class="version_items hide" data-version="2.2">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/overview.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/best-practices.html">Guidelines and Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/prerequisite-and-setup.html">Prerequisites and System Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/prerequisite-cloud.html">Public Cloud Prerequisites</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/install-kubernetes.html">Install the Operator on Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/install-openshift.html">Install the Operator on OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-kubernetes-networking.html">Kubernetes Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-persistent-volumes.html">Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-kubernetes-upgrade.html">Kubernetes Automated Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-operator.html">Operator Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-label-selection.html">Couchbase Resource Label Selection</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-rbac.html">Couchbase Resource RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-user-rbac.html">Couchbase User RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-memory-allocation.html">Couchbase Memory Allocation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-mds.html">Couchbase Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-scheduling.html">Couchbase Scheduling and Isolation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-sizing.html">Couchbase Sizing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-vertical-scaling.html">Couchbase Cluster Vertical Scaling</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../current/concept-couchbase-autoscaling.html">Couchbase Cluster Auto-scaling</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-couchbase-autoscaling-best-practices.html">Auto-scaling Best Practices</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-couchbase-networking.html">Couchbase Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-tls.html">Couchbase TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-credential-rotation.html">Couchbase Credential Rotation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-server-groups.html">Couchbase Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-upgrade.html">Couchbase Upgrades</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-hibernation.html">Couchbase Cluster Hibernation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-couchbase-logging.html">Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/concept-backup.html">Couchbase Backup and Restore</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-operator-upgrade.html">Upgrade the Operator</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-manage-operator-logging.html">Manage Operator Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-roll-your-own.html">Create Your Own Operator Images</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Lifecycle</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-create.html">Create a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-update.html">Modify a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-upgrade.html">Upgrade a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-delete.html">Delete a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-scale.html">Scale a Couchbase Deployment</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-persistent-volumes.html">Configure Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-backup.html">Configure Backup &amp; Restore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-mds.html">Configure Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-autoscaling.html">Configure Couchbase Cluster Auto-scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-xdcr.html">Configure XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-public-networking.html">Configure Public Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-nodeport-networking.html">Configure Node Port Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-server-groups.html">Configure Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-admin-password-rotation.html">Rotate the Administrator Password</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-tls.html">Configure TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-tls-client-certificates.html">Configure Client Certificate Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-tls-rotation.html">Rotate TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-prometheus.html">Configure Prometheus Metrics Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-manage-couchbase-logging.html">Manage Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-couchbase-log-forwarding.html">Configure Log Forwarding</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-non-root-install.html">Configure Non-Root Installs</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Connect</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-ui.html">Access the Couchbase User Interface</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-client-sdks.html">Configure Client SDKs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/howto-storage-class.html">Create a Lazy Bound Storage Class</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/helm-setup-guide.html">Helm Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/helm-managing-guide.html">Helm Management</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Resource Types</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-resources.html">Resource Documentation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbaseautoscaler.html">CouchbaseAutoscaler Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasebackuprestore.html">CouchbaseBackupRestore Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasebackup.html">CouchbaseBackup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasebucket.html">CouchbaseBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasecluster.html">CouchbaseCluster Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbaseephemeralbucket.html">CouchbaseEphemeralBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasegroup.html">CouchbaseGroup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasememcachedbucket.html">CouchbaseMemcachedBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbasereplication.html">CouchbaseReplication Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbaserolebinding.html">CouchbaseRoleBinding Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/resource/couchbaseuser.html">CouchbaseUser Resource</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-admission-cli.html">Dynamic Admission Controller Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-admission-rbac.html">Dynamic Admission Controller RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-operator-configuration.html">Operator Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-operator-rbac.html">Operator RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-reference-architecture.html"><code>CouchbaseCluster</code> Reference Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-couchbasecluster-events.html"><code>CouchbaseCluster</code> Events</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/reference-couchbasecluster-services.html"><code>CouchbaseCluster</code> Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/helm-couchbase-config.html">Couchbase Helm Chart Specification</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tools</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tools/cbopcfg.html">cbopcfg</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tools/cbopinfo.html">cbopinfo</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tutorials</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Authentication and Authorization</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-rbac-auth.html">Authenticating with Couchbase and LDAP</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Autoscaling</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-autoscale-data.html">Autoscaling Couchbase Data Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-autoscale-index.html">Autoscaling Couchbase Index Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-autoscale-query.html">Autoscaling Couchbase Query Service</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Backup</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-velero-backup.html">Backup with VMware Velero</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Cloud Platforms</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-aks.html">Installing AKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-eks.html">Installing EKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-gke.html">Installing GKE</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Logging</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-couchbase-log-forwarding.html">Forwarding Couchbase Logs with Fluent Bit</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Metering</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-metering-kubernetes.html">Metering Couchbase Resources In Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-metering.html">Metering Couchbase Resources In OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Monitoring</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-prometheus.html">Quick Start with Prometheus Monitoring</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Networking</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-remote-dns.html">Inter-Kubernetes Networking with Forwarded DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-public-addressability.html">Public Networking with External DNS</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Persistent Volumes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-volume-expansion.html">Persistent Volume Expansion</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync Gateway</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-sync-gateway.html">Connecting Sync-Gateway to a Couchbase Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-sync-gateway-clients.html">Exposing Sync-Gateway to Couchbase Lite Clients</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-sync-gateway-manage.html">Managing Sync Gateway Cluster </a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">TLS</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-tls.html">Creating TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/tutorial-cert-manager.html">Using a Certificate Manager</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../current/release-notes.html">Release Notes</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
      <div class="version_items hide" data-version="2.0">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="overview.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="best-practices.html">Guidelines and Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-and-setup.html">Prerequisites and System Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-cloud.html">Public Cloud Prerequisites</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-kubernetes.html">Install the Operator on Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-openshift.html">Install the Operator on OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-networking.html">Kubernetes Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-persistent-volumes.html">Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-upgrade.html">Kubernetes Automated Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator.html">Couchbase Operator Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator-logging.html">Couchbase Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-label-selection.html">Couchbase Resource Label Selection</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-rbac.html">Couchbase Resource RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-user-rbac.html">Couchbase User RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-memory-allocation.html">Couchbase Memory Allocation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-mds.html">Couchbase Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-scheduling.html">Couchbase Scheduling and Isolation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-sizing.html">Couchbase Sizing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-vertical-scaling.html">Couchbase Cluster Vertical Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-networking.html">Couchbase Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-tls.html">Couchbase TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-server-groups.html">Couchbase Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-upgrade.html">Couchbase Upgrades</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-operator-upgrade.html">Upgrade the Operator</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-troubleshooting.html">View Operator Logs</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-roll-your-own.html">Create Your Own Operator Images</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Lifecycle</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-create.html">Create a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-update.html">Modify a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-upgrade.html">Upgrade a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-delete.html">Delete a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-scale.html">Scale a Couchbase Deployment</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-persistent-volumes.html">Configure Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-persistent-volume-resize.html">Resize Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-backup.html">Configure Backup &amp; Restore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-mds.html">Configure Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-xdcr.html">Configure XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-public-networking.html">Configure Public Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-nodeport-networking.html">Configure Node Port Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-server-groups.html">Configure Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls.html">Configure TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-client-certificates.html">Configure Client Certificate Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-rotation.html">Rotate TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-prometheus.html">Configure Prometheus Metrics Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-non-root-install.html">Configure Non-Root Installs</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Connect</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-ui.html">Access the Couchbase User Interface</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-client-sdks.html">Configure Client SDKs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-storage-class.html">Create a Lazy Bound Storage Class</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-setup-guide.html">Helm Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-managing-guide.html">Helm Management</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Resource Types</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="reference-couchbasecluster.html">CouchbaseCluster Resource</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-status.html">CouchbaseCluster Status</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-events.html">CouchbaseCluster Events</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="reference-couchbasebackup.html">CouchbaseBackup Resource</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasebackuprestore.html">CouchbaseBackupRestore Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasebackup-status.html">CouchbaseBackup and CouchbaseBackupRestore Status</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasebucket.html">CouchbaseBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbaseephemeralbucket.html">CouchbaseEphemeralBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasememcachedbucket.html">CouchbaseMemcachedBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasereplication.html">CouchbaseReplication Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbaseuser.html">CouchbaseUser Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasegroup.html">CouchbaseGroup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbaserolebinding.html">CouchbaseRoleBinding Resource</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-admission-rbac.html">Dynamic Admission Controller RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-configuration.html">Operator Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-rbac.html">Operator RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-services.html">CouchbaseCluster Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-current-page" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="helm-couchbase-config.html">Couchbase Helm Chart Specification</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tools</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-cbopcfg.html">cbopcfg</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-cbopinfo.html">cbopinfo</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tutorials</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync Gateway</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway.html">Connecting Sync-Gateway to a Couchbase Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-clients.html">Exposing Sync-Gateway to Couchbase Lite Clients</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-manage.html">Managing Sync Gateway Cluster </a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-tls.html">Creating TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-remote-dns.html">Inter-Kubernetes Networking with Forwarded DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-public-addressability.html">Public Networking with External DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-velero-backup.html">Backup with VMware Velero</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-prometheus.html">Quick Start with Prometheus Monitoring</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-rbac-auth.html">Authenticating with Couchbase and LDAP</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-aks.html">Installing AKS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-eks.html">Installing EKS</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-gke.html">Installing GKE</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="release-notes.html">Release Notes</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
        <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-banner">
<i class="fas fa-file-alt"></i> <p>A newer version of this documentation is available.</p>
<a class="btn" href="../current/helm-couchbase-config.html">View Latest</a>
</div>
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Autonomous Operator</a></li>
<li class="crumb">Reference</li>
<li class="crumb">Helm</li>
<li class="crumb"><a href="helm-couchbase-config.html">Couchbase Helm Chart Specification</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Couchbase Helm Chart Specification</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
The official Couchbase Helm Chart for the Autonomous Operator comes with a default configuration that can be customized to fit your deployment needs.
</blockquote>
</div>
<div class="paragraph">
<p>This page describes the parameters of the official Couchbase Helm Chart.
In particular, this page describes the contents of the chart&#8217;s <a href="https://github.com/couchbase-partners/helm-charts/blob/master/couchbase-operator/values.yaml" target="_blank" rel="noopener">values.yaml</a>, which contains the chart&#8217;s default values.
Each of the deployed resources is listed and described, along with any available parameterization.</p>
</div>
<div class="paragraph">
<p>For instructions on how to install and use the chart, including how to override and customize the chart&#8217;s values, refer to <a href="helm-setup-guide.html" class="page">Helm Deployment</a>.</p>
</div>
<div class="listingblock">
<div class="title">All available configuration parameters in the Couchbase Helm Chart, along with their default values</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  # Select what to install
  install:
    # couchbaseOperator is the couchbase-operator deployment
    couchbaseOperator: true
    # admissionController enforces validation
    admissionController: true
    # couchbase cluster
    couchbaseCluster: true
    # sync gateway
    syncGateway: false

  # couchbaseOperator is the controller for couchbase cluster
  couchbaseOperator:
    # name of the couchbase operator
    name: "couchbase-operator"
    # image config
    image:
      repository: couchbase/operator
      tag: 2.0.0
    imagePullPolicy: IfNotPresent
    # imagePullSecrets is an optional list of references to secrets  to use for pulling images
    imagePullSecrets: []
    # additional command arguments will be translated to `--key=value`
    commandArgs:
      # pod creation timeout
      pod-create-timeout: 10m
    # resources of couchbase-operator
    resources: {}
    # nodeSelector for couchbase-operator pod assignment
    # Ref: https://kubernetes.io/docs/user-guide/node-selection/
    nodeSelector: {}
    # tolerations of pod match nodes with corresponding taints
    tolerations: []


  # admissionController is the controller for couchbase admission controller
  # name is derived from chart
  admissionController:
    name: "couchbase-admission-controller"
    image:
      repository: couchbase/admission-controller
      tag: 2.0.0
    imagePullPolicy: IfNotPresent
    # imagePullSecrets is an optional list of references to secrets  to use for pulling images
    imagePullSecrets: []
    verboseLogging: true

  # admissionService exposes validation to cluster. This service
  # is over https and certs are auto-generated based on serviceName.
  admissionService:
    # name of the service (auto-generated)
    name:
    # port service exposes
    port: 443
    targetPort: 8443

  # admissionCA can be used to override the Certs that will be used
  # to sign the keys used by the admsission operator.
  admissionCA:
    # A base64 encoded PEM format certificate
    cert:
    # A base64 encoded PEM format private key
    key:
    # Expiry time of CA in days for generated certs
    expiration: 365

  # secret with client certs mounted within the admission controller.
  admissionSecret:
    # name of the secret (auto-generated)
    name:
    # PEM format certificate (auto-generated)
    # override via --set-file
    cert:
    # PEM format certificate (auto-generated)
    # override via --set-file
    key:


  # Default values for couchbase-cluster
  cluster:
    # name of the cluster. defaults to name of chart release
    name:
    # image is the base couchbase image and version of the couchbase cluster
    image: "couchbase/server:6.5.0"
    security:
      # username of the cluster admin.
      username: Administrator
      # password of the cluster admin.
      # auto-generated when empty
      password:
      # adminSecret is name of secret to use instead of using
      # the default secret with username and password specified above
      adminSecret:
      rbac:
        managed: true
    # networking options
    networking:
      # Option to expose admin console
      exposeAdminConsole: true
      # Option to expose admin console
      adminConsoleServices:
        - data
      # Specific services to use when exposing ui
      exposedFeatures:
        - client
        - xdcr
      # Defines how the admin console service is exposed.
      # Allowed values are NodePort and LoadBalancer.
      # If this field is LoadBalancer then you must also define a spec.dns.domain.
      adminConsoleServiceType: NodePort
      # Defines how the per Couchbase node ports are exposed.
      # Allowed values are NodePort and LoadBalancer.
      # If this field is LoadBalancer then you must also define a spec.dns.domain.
      exposedFeatureServiceType: NodePort
      # The dynamic DNS configuration to use when exposing services
      dns:
      # The Couchbase cluster tls configuration (auto-generated)
      tls:
    # The retention period that log volumes are kept for after their associated pods have been deleted.
    logRetentionTime: 604800s
    # The maximum number of log volumes that can be kept after their associated pods have been deleted.
    logRetentionCount: 20
    # xdcr defines remote clusters and replications to them.
    xdcr:
      # managed defines whether the Operator should manage XDCR remote clusters
      managed: false
      # remoteClusters contains references to any remote clusters to replicate to
      remoteClusters:
    # backup defines values for automated backup.
    backup:
      # managed determines whether Automated Backup is enabled
      managed: true
      # image used by the Operator to perform backup or restore
      image: couchbase/operator-backup:6.5.0
      # optional service account to use when performing backups
      # service account will be created if it does not exist
      serviceAccountName:
    # defines integration with third party monitoring sofware
    monitoring:
      prometheus:
        # defines whether Prometheus metric collection is enabled
        enabled: false
        # image used by the Operator to perform metric collection
        # (injected as a "sidecar" in each Couchbase Server Pod)
        image: couchbase/prometheus-exporter:1.0.0
        # Optional Kubernetes secret that clients use to access Prometheus metrics
        authorizationSecret:
    # Cluster wide settings for nodes and services
    cluster:
      # The amount of memory that should be allocated to the data service
      dataServiceMemoryQuota: 256Mi
      # The amount of memory that should be allocated to the index service
      indexServiceMemoryQuota: 256Mi
      # The amount of memory that should be allocated to the search service
      searchServiceMemoryQuota: 256Mi
      # The amount of memory that should be allocated to the eventing service
      eventingServiceMemoryQuota: 256Mi
      # The amount of memory that should be allocated to the analytics service
      analyticsServiceMemoryQuota: 1Gi
      # The index storage mode to use for secondary indexing
      indexStorageSetting: memory_optimized
      # Timeout that expires to trigger the auto failover.
      autoFailoverTimeout: 120s
      # The number of failover events we can tolerate
      autoFailoverMaxCount: 3
      # Whether to auto failover if disk issues are detected
      autoFailoverOnDataDiskIssues: true
      # How long to wait for transient errors before failing over a faulty disk
      autoFailoverOnDataDiskIssuesTimePeriod: 120s
      # configuration of global Couchbase auto-compaction settings.
      autoCompaction:
        # amount of fragmentation allowed in persistent database [2-100]
        databaseFragmentationThreshold:
          percent: 30
          size: 1Gi
        # amount of fragmentation allowed in persistent view files [2-100]
        viewFragmentationThreshold:
          percent: 30
          size: 1Gi
        # whether auto-compaction should be performed in parallel
        parallelCompaction: false
        # how frequently tombstones may be purged
        tombstonePurgeInterval: 72h
        # optional window when an auto-compaction may start (uncomment below)
        timeWindow: {}
        # start: 02:00
        # end: 06:00
        # abortCompactionOutsideWindow: true

    # configuration of logging functionality
    # for use in conjuction with logs persistent volume mount
    logging:
      # retention period that log volumes are kept after pods have been deleted
      logRetentionTime: 604800s
      # the maximum number of log volumes that can be kept after pods have been deleted
      logRetentionCount: 20
    # kubernetes security context applied to pods
    securityContext:
      # fsGroup of persistent volume mount
      fsGroup: 1000
    # cluster buckets
    buckets:
      # Managed defines whether buckets are managed by us or the clients.
      managed: true
    servers:
      # Name for the server configuration. It must be unique.
      default:
        # Size of the couchbase cluster.
        size: 3
        # The services to run on nodes
        services:
          - data
          - index
          - query
          - search
          - analytics
          - eventing
        # volume claims to use for persistent storage
        volumeMounts: {}
        # ServerGroups define the set of availability zones we want to distribute pods over.
        serverGroups: []
        # Pod defines the policy to create pod for the couchbase pod.
        pod:
          spec:
            containers:
    # VolumeClaimTemplates define the desired characteristics of a volume
    # that can be requested and claimed by a pod.
    volumeClaimTemplates: []

  # couchbase buckets to create
  # disable default bucket creation by setting
  # couchbaseBuckets.default: null
  buckets:
    # A bucket to create by default
    default:
      # Name of the bucket
      name: default
      # The type of bucket to use
      type: couchbase
      # The amount of memory that should be allocated to the bucket
      memoryQuota: 128Mi
      # The number of bucket replicates
      replicas: 1
      # The priority when compared to other buckets
      ioPriority: high
      # The bucket eviction policy which determines behavior during expire and high mem usage
      evictionPolicy: fullEviction
      # The bucket's conflict resolution mechanism; which is to be used if a conflict occurs during Cross Data-Center Replication (XDCR). Sequence-based and timestamp-based mechanisms are supported.
      conflictResolution: seqno
      # The enable flush option denotes wether the data in the bucket can be flushed
      enableFlush: true
      # Enable Index replica specifies whether or not to enable view index replicas for this bucket.
      enableIndexReplica: false
      # data compression mode for the bucket to run in [off, passive, active]
      compressionMode: "passive"

  # RBAC users to create
  # (requires couchbase server 6.5.0 and higher)
  users:
    # creates an example user named 'developer'
    developer:
      # password to use for user authentication
      # (alternatively use authSecret)
      password: password
      # optional secret to use containing user password
      authSecret:
      # roles attributed to group
      roles:
        - name: bucket_admin
          bucket: default

  # TLS Certs that will be used to encrypt traffic between operator and couchbase
  tls:
    # enable to auto create certs
    generate: false
    # Expiry time of CA in days for generated certs
    expiration: 365

  # syncGateway configuration
  syncGateway:
    # name of the sync gatway pod.
    # defaults to name of chart
    name:
    # database config
    config:
      logging:
        console:
          enabled: true
          log_level: "debug"
          log_keys:
          - "*"
      # databases is a list containing
      # bucket replication configs
      databases:
        db:
          # bucket replicated to sync gateway
          bucket: default
          # guest user config
          users:
            GUEST:
              # disable creation of guest user
              disabled: false
              # channels guest user may access.
              # defaults to all channels
              admin_channels: ["*"]
          # server to connect db to, defaults to cluster server
          server:
          # username of db admin, defaults to cluster admin username
          username:
          # password of db admin, defaults to cluster admin password
          password:
          allow_conflicts: false
          revs_limit: 20
          enable_shared_bucket_access: true
    # Type of service to use for exposing Sync Gateway
    # Set as empty string to prevent service creation
    exposeServiceType: ClusterIP
    # image of the sync gateway container
    image:
      repository: couchbase/sync-gateway
      tag: 2.7.0-enterprise
    imagePullPolicy: IfNotPresent
    # Optional secret to use with prepoulated database config
    configSecret:
    # optional ca.cert for tls connection
    # of all databases
    cacert:
    # optional dns config
    dns:
      # name kubernete service which exposes nameserver (ie coredns)
      service:
      # search list for host-name lookup
      searches:
      - default.svc.cluster.local
      - svc.cluster.local
      - cluster.local</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="about-resource-names"><a class="anchor" href="#about-resource-names"></a>About Resource Names</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All resources/objects created by the Couchbase Chart adhere to the following naming scheme: <code>&lt;release-name&gt;-&lt;component-name&gt;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;release-name&gt;</code></p>
<div class="ulist">
<ul>
<li>
<p>This is name of the installed instance.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>&lt;component-name&gt;</code></p>
<div class="ulist">
<ul>
<li>
<p>This is the name of the Operator, Admission, and Couchbase component..</p>
</li>
<li>
<p>If the resource is created for the <em>Operator</em>, then <code>&lt;component-name&gt;</code> will be whatever is specified in <code><a href="#couchbaseOperator-name">couchbaseOperator.name</a></code>.</p>
</li>
<li>
<p>If the resource is created for the <em>admission controller</em>, then <code>&lt;component-name&gt;</code> will be whatever is specified in <code><a href="#admissionController-name">admissionController.name</a></code>.</p>
</li>
<li>
<p>If the resource is created for the <em>couchbase cluster</em>, then <code>&lt;component-name&gt;</code> will be whatever is specified in <code><a href="#cluster-name">cluster.name</a></code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="specifying-your-own-resources"><a class="anchor" href="#specifying-your-own-resources"></a>Specifying Your Own Resources</h3>
<div class="paragraph">
<p>The chart allows you to override certain resources such as <code><a href="#cluster-tls">tls</a></code> certificates with ones that you&#8217;ve already created.
In this case, the names of the resources are determined by you and not the chart, and therefore do not adhere to the naming scheme described in the previous section.
Check the specs below for the value you are attempting to override for additional information on what type of resource is expected and how it should be formated.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-values"><a class="anchor" href="#install-values"></a>Install Values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installation values for selective deployment of components within the chart.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  # Select what to install
  install:
    # install the couchbase operator
    couchbaseOperator: true
    # install the admission controller
    admissionController: true
    # install couchbase cluster
    couchbaseCluster: true
    # install sync gateway
    syncGateway: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Couchbase Chart is capable of installing the Operator, Admission Controller, Couchbase Cluster, and Sync Gateway.</p>
</div>
<div class="sect2">
<h3 id="install"><a class="anchor" href="#install"></a>couchbaseOperator</h3>
<div class="paragraph">
<p>This field specifies whether or not the Couchbase Autonomous Operator will be installed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>couchbaseOperator</code> field defaults to <code>true</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="admissioncontroller"><a class="anchor" href="#admissioncontroller"></a>admissionController</h3>
<div class="paragraph">
<p>This field specifies whether or not the Couchbase Admission Controller will be installed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>admissionController</code> field defaults to <code>true</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="couchbasecluster"><a class="anchor" href="#couchbasecluster"></a>couchbaseCluster</h3>
<div class="paragraph">
<p>This field specifies whether or not a Couchbase Cluster will be installed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>couchbaseCluster</code> field defaults to <code>true</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="syncgateway"><a class="anchor" href="#syncgateway"></a>syncGateway</h3>
<div class="paragraph">
<p>This field specifies whether or not an instance of the Sync Gateway will be installed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>syncGateway</code> field defaults to <code>false</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="couchbase-cluster"><a class="anchor" href="#couchbase-cluster"></a>Couchbase Cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>cluster</code> configuration represents the <code>CouchbaseCluster</code> resources to be installed.
If <code>install.couchbaseCluster</code> is set to <code>false</code> then the cluster will not be installed.</p>
</div>
<div class="sect2">
<h3 id="cluster"><a class="anchor" href="#cluster"></a>cluster</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  cluster:
    name:
    security:
      username: Administrator
      password:
      adminSecret:</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="name"><a class="anchor" href="#name"></a>name</h3>
<div class="paragraph">
<p>The name of the cluster to create.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>couchbaseCluster.name</code> value defaults to the name of the chart if not specified.
Must be unique from any other clusters in the namespace.</p>
</div>
</div>
<div class="sect2">
<h3 id="username"><a class="anchor" href="#username"></a>username</h3>
<div class="paragraph">
<p>The username to use as the cluster admin.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This should only be used for experimental and test clusters.
Consider using <code>adminSecret</code> to provide a secret containing your own username and password.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>couchbaseCluster.username</code> value is a string set to <code>Administrator</code> by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="password"><a class="anchor" href="#password"></a>password</h3>
<div class="paragraph">
<p>The password to use as the cluster admin.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This should only be used for experimental and test clusters.
Consider using <code>adminSecret</code> to provide a secret containing your own username and password.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>couchbaseCluster.password</code> value is a string that is auto-generated by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="adminsecret"><a class="anchor" href="#adminsecret"></a>adminSecret</h3>
<div class="paragraph">
<p>The secret to use for overriding the auto-generated secret.
When specified the username and password from the secret are used for Administrator login.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>couchbaseCluster.adminSecret</code> value is the name of a kubernetes secret and is not set by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="persistent-volumes"><a class="anchor" href="#persistent-volumes"></a>Persistent Volumes</h3>
<div class="paragraph">
<p>The best way to create a cluster with persistent volumes is to make a custom value file.
The following example shows how volumeMounts can be added to created a persisted cluster.</p>
</div>
<div class="paragraph">
<p>Create a file named <code>values-persistent.yaml</code> with the following values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">cluster:
  servers:
    default:
      pod:
        volumeMounts:
          default: couchbase
          data:  couchbase
  securityContext:
      fsGroup: 1000
  volumeClaimTemplates:
    - metadata:
        name: couchbase
      spec:
        storageClassName: "default"
        resources:
          requests:
            storage: 1Gi</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install the cluster chart using the custom value file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install my-release -f values-persistent.yaml couchbase/couchbase-cluster</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="additional-values"><a class="anchor" href="#additional-values"></a>additional values</h3>
<div class="paragraph">
<p>All of the remaining values which can be overridden in this spec are described here in the <a href="reference-couchbasecluster.html" class="page">Couchbase Cluster Config</a> documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tls"><a class="anchor" href="#tls"></a>TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Certificates can be auto-generated or overridden by user supplied certs.
Also since couchbase certs are represented as plain kubernetes secrets, the secret itself can be overridden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">tls:
  generate: false
  expiration: 365</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="generate"><a class="anchor" href="#generate"></a>generate</h3>
<div class="paragraph">
<p>This value determines whether the chart should create the cluster with TLS.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>tls.generate</code> is a boolean which defaults to <code>false</code>.
When set to <code>true</code> all of the certs and keys required for tls will be auto-generated unless manually specified.
When value is <code>false</code> certs are not generated, but manual Secrets can be provided by overriding <code>cluster.networking.tls</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="expiration"><a class="anchor" href="#expiration"></a>expiration</h3>
<div class="paragraph">
<p>Expiration of CA in days</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>couchbaseTLS.expiration</code> defaults to 365 days.</p>
</div>
</div>
<div class="sect2">
<h3 id="custom-tls"><a class="anchor" href="#custom-tls"></a>Custom TLS</h3>
<div class="paragraph">
<p>Create cluster with auto-generated tls certs</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install my-release --set tls.generate=true couchbase/couchbase-cluster</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use manually created secrets
. Create a file named <code>tls_values.yaml</code> with the following custom override values for the Couchbase Chart:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">cluster:
   tls:
     static:
       operatorSecret: tls-operator-secret
       serverSecert: my-tls-server-secret</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install  my-release -f tls_values.yaml couchbase/couchbase-cluster</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="buckets"><a class="anchor" href="#buckets"></a>Buckets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>buckets</code> configuration represent <code>CouchbaseBucket</code> resources to be installed by the cluster.
Buckets are installed whenever <code>install.CouchbaseCluster</code> is set to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">buckets:
  default:
    name: default
    type: couchbase</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Buckets are automatically provisioned with <a href="concept-label-selection.html" class="page">label selectors</a> matching the corresponding couchbase cluster.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="name-2"><a class="anchor" href="#name-2"></a>name</h3>
<div class="paragraph">
<p>This value determines name of the bucket to create.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>bucket.name</code> value is a string.
This value is optional and when not set, the name of the object key is used instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="additional-values-2"><a class="anchor" href="#additional-values-2"></a>additional values</h3>
<div class="paragraph">
<p>All of the remaining values which can be overridden in this spec are described here in the <a href="reference-couchbasecluster.html" class="page">Couchbase Cluster Config</a> documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="users"><a class="anchor" href="#users"></a>Users</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>users</code> configuration represent <code>CouchbaseUser</code>, <code>CouchbaseGroup</code>, and <code>CouchbaseRoleBinding</code> resources to be installed by the cluster.
Users are installed whenever <code>install.CouchbaseCluster</code> is set to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  users:
    developer:   # username <i class="conum" data-value="1"></i><b>(1)</b>
      password: password
      authSecret:
      authDomain: local
      roles:
        - name: bucket_admin
          bucket: default</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The username is set from the key of each user configuration.
NOTE: Users are automatically provisioned with <a href="concept-label-selection.html" class="page">label selectors</a> matching the corresponding Couchbase cluster.</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="password-2"><a class="anchor" href="#password-2"></a>password</h3>
<div class="paragraph">
<p>The user password.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This should only be used for experimental and test clusters.
Consider using <code>authSecret</code> or setting <code>authDomain: external</code> to improve security .
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>user.&lt;name&gt;.password</code> value is a string.
This value is required when authDomain is <code>local</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="authsecret"><a class="anchor" href="#authsecret"></a>authSecret</h3>
<div class="paragraph">
<p>The Kubernetes Secret containing the user password.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>user.&lt;name&gt;.authSecret</code> value is a string.
This value is optional and must refer to a Kubernetes Secret resource when specified.
The Secret must contain the path <code>data.password</code> with the base64 encoded value of the secret</p>
</div>
</div>
<div class="sect2">
<h3 id="authdomain"><a class="anchor" href="#authdomain"></a>authDomain</h3>
<div class="paragraph">
<p>The Couchbase RBAC Domain to use when authenticating the user.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>user.&lt;name&gt;.authDomain</code> value is a string.
This value is required and must be either <code>local</code> or <code>external</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="roles"><a class="anchor" href="#roles"></a>roles</h3>
<div class="paragraph">
<p>The Couchbase Roles to assign to the user</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>user.&lt;name&gt;.roles</code> value is a list.
This value is required and must provide the <code>name</code> of a valid Couchbase Server role.
If the Couchbase Server role is a bucket role, then the name of a <code>bucket</code> value may also be provided.
If the name of a bucket is not provided for a bucket role then the value defaults to <code>*</code> which means the role applies to all buckets.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="reference-couchbasegroup.html" class="page">Couchbae Groups</a> for list of Administrator and Bucket roles.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sync-gateway"><a class="anchor" href="#sync-gateway"></a>Sync Gateway</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Sync Gateway configuration provides defaults for deploying Sync Gateway along with associated services.
The Sync Gateway server is installed when <code>install.syncGateway</code> is set to <code>true</code>.
When installed, Sync Gateway is automatically connected to couchbase cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">syncGateway:
  name:
  config:
    logging:
      console:
        enabled: true
        log_level: "debug"
        log_keys:
        - "*"
    databases:
      db:
        bucket: default
        users:
          GUEST:
            disabled: false
            admin_channels: ["*"]
        server:
        username:
        password:
        allow_conflicts: false
        revs_limit: 20
        enable_shared_bucket_access: true
  exposeServiceType: ClusterIP
  image:
    repository: couchbase/sync-gateway
    tag: 2.7.0-enterprise
  imagePullPolicy: IfNotPresent
  configSecret:
  cacert:
  dns:
    service:
    searches:
    - default.svc.cluster.local
    - svc.cluster.local
    - cluster.local</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you install a bucket with a name other than <code>default</code> then you will need to update <code>databases.db.bucket</code> accordingly.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="exposeservicetype"><a class="anchor" href="#exposeservicetype"></a>exposeServiceType</h3>
<div class="paragraph">
<p>The type of service to use for exposing the Sync Gateway server.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>exposeServiceType</code> value is a string.
This value is optional and defaults to <code>ClusterIP</code>.
When specified the value must be either <code>ClusterIP</code>, <code>NOodePort</code>, or <code>LoadBalancer</code>.
When the value is not specified then the exposing service is not created.</p>
</div>
</div>
<div class="sect2">
<h3 id="configsecret"><a class="anchor" href="#configsecret"></a>configSecret</h3>
<div class="paragraph">
<p>A Kubernetes Secret containing values that override <code>config.databases</code>
This allows for sync-gateway configurations to be shared across clusters, since the Secret will contain the same configuration information about connecting to a particular Couchbase Cluster.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>configSecret</code> value is a string
This value is optional.
When specified the content of the Secret will be used to override the values of <code>config.databases</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="dns"><a class="anchor" href="#dns"></a>dns</h3>
<div class="paragraph">
<p>DNS settings to apply to the Sync Gateway server</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">dns:
  service:
  searches:
  - default.svc.cluster.local
  - svc.cluster.local
  - cluster.local</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="dns-service"><a class="anchor" href="#dns-service"></a>dns.service</h4>
<div class="paragraph">
<p>The name of a Kubernetes Service resource which provides DNS to Sync Gateway.
By default the kube-dns service is used, but user may decide to install coredns for <a href="concept-couchbase-networking.html" class="page">Inter-Cluster</a> Deployments.</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>dns.service</code> value is a string.
This value is optional.
When specified the value must refer to a Kubernetes Service resource that is capable of providing DNS to the Sync Gateway server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dns-searches"><a class="anchor" href="#dns-searches"></a>dns.searches</h3>
<div class="paragraph">
<p>The search domains to use when looking up hostnames</p>
</div>
<div class="paragraph">
<p><em>Value rules:</em> The <code>dns.searches</code> value is a list of strings.
This value is optional and only provided to the Sync Gateway server when <code>dns.service</code> is also set.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="autonomous-operator"><a class="anchor" href="#autonomous-operator"></a>Autonomous Operator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Helm chart deploys the Operator as a Kubernetes <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">couchbaseOperator:
  name: "couchbase-operator"
  image:
    repository: couchbase/operator
    tag: 2.0.0
  imagePullPolicy: IfNotPresent
  imagePullSecrets: []
  commandArgs:
    pod-create-timeout: 10m
  resources: {}
  nodeSelector: {}
  tolerations: []</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="commandargs"><a class="anchor" href="#commandargs"></a>commandArgs</h3>
<div class="paragraph">
<p>This spec allows you to specify command line arguments to pass on to the Operator.</p>
</div>
<div class="paragraph">
<p><em>value rules:</em> The commandArgs value is a key-value map of arguments that can be used to modify the behavior of the Operator image.
The <code>-pod-create-timeout:</code> argument is set to <code>10m</code> by default, which means that the Operator will wait 10 minutes for a Couchbase Server Pod to start.
The <code>-debug:</code> argument can also be used here, and set to <code>debug</code> for more verbose logging.</p>
</div>
</div>
<div class="sect2">
<h3 id="additional-values-3"><a class="anchor" href="#additional-values-3"></a>Additional Values</h3>
<div class="paragraph">
<p>The <code>couchbaseOperator</code> parameters are described in the <a href="reference-operator-configuration.html" class="page">Operator Deployment Settings</a> documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admission-controller"><a class="anchor" href="#admission-controller"></a>Admission Controller</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">admissionController:
  name: "couchbase-admission-controller"
  image:
    repository: couchbase/admission-controller
    tag: 2.0.0
  imagePullPolicy: IfNotPresent
  imagePullSecrets: []
  verboseLogging: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Helm chart deploys the admission controller as a Kubernetes <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a>.</p>
</div>
<div class="sect2">
<h3 id="admissionController-name"><a class="anchor" href="#admissionController-name"></a>name</h3>
<div class="paragraph">
<p>This field specifies the name of the admission controller deployment.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>name</code> field defaults to <code>couchbase-admission-controller</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="image"><a class="anchor" href="#image"></a>image</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  image:
    repository: couchbase/admission-controller
    tag: 1.2.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>The repository and tag to use for pulling the admission controller image.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>image.repository</code> value can refer to any repository.
The <code>image.tag</code> field can refer to any version of the admission controller image in the repository.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="imagepullpolicy"><a class="anchor" href="#imagepullpolicy"></a>imagePullPolicy</h3>
<div class="paragraph">
<p>The policy for pulling images from the repository onto hosts.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>imagePullPolicy</code> value defaults to <code>IfNotPresent</code>, which means that images are only pulled if they&#8217;re not present on the Kubernetes node.
Values allowed are <code>Always</code>, <code>IfNotPresent</code>, and <code>Never</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="imagepullsecrets"><a class="anchor" href="#imagepullsecrets"></a>imagePullSecrets</h3>
<div class="paragraph">
<p>An optional list referencing secrets to use for pulling the image.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>imagePullSecrets</code> value is a list which is not set by default.
Refer to the Operator documentation about <a href="install-openshift.html#create-an-imagepullsecret" class="page">creating pull secrets</a>.
When using the Helm CLI to override pull secrets, the list should be denoted as a comma delimited list within curly braces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install --set admissionController.imagePullSecrets={pullsecret1,pullsecret2} couchbase/couchbase-operator</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="verboselogging"><a class="anchor" href="#verboselogging"></a>verboseLogging</h3>
<div class="paragraph">
<p>Determines whether the admission controller should log all of its validation notices within the console.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>verboseLogging</code> field is a boolean value that is set to <code>false</code> by default, which means only validation errors are logged within the pod&#8217;s console.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admission-service"><a class="anchor" href="#admission-service"></a>Admission Service</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  admissionService:
    name:
    port: 443
    targetPort: 8443</code></pre>
</div>
</div>
<div class="paragraph">
<p>The admission service is used by the webhooks to access the admission operator.
Certificates are auto-generated for this service whenever this object is enabled.
The admission service is always created when <code>install.admissionController</code> is set to <code>true</code>.</p>
</div>
<div class="sect2">
<h3 id="admissionService-name"><a class="anchor" href="#admissionService-name"></a>name</h3>
<div class="paragraph">
<p>Name of the admission service.</p>
</div>
</div>
<div class="sect2">
<h3 id="admissionService-port"><a class="anchor" href="#admissionService-port"></a>port</h3>
<div class="paragraph">
<p>Port exposed by the admission service to the validation webhooks.</p>
</div>
</div>
<div class="sect2">
<h3 id="admissionService-targetPort"><a class="anchor" href="#admissionService-targetPort"></a>targetPort</h3>
<div class="paragraph">
<p>Port of the admission controller targeted by the admission Service.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>name</code> value defaults to whatever is specified in <code><a href="#admissionController-name">admissionController.name</a></code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admissionCA"><a class="anchor" href="#admissionCA"></a>Admission Controller Certificate Authority</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">admissionCA:
  cert:
  key:
  expiration: 365</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>admissionCA</code> spec specifies the CA certificates that are applied to validating webhooks.</p>
</div>
<div class="paragraph">
<p>By default, the CA certificate and key is auto-generated.
The following example shows how to use a self-signed certificate:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Create Certificates</strong></p>
<div class="paragraph">
<p>Use openssl to create <code>myCA.key</code> and <code>myCA.pem</code> in your current directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">openssl genrsa -out myCA.key 2048
openssl req -x509 -new -nodes -key myCA.key -sha256 -days 1825 -outform PEM -out myCA.pem</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Install the chart with certificates</strong></p>
<div class="paragraph">
<p>Use <code>--set-file</code> to import the files from your current directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install  --set-file admissionCA.cert=myCA.pem \
              --set-file admissionCA.key=myCA.key \
              couchbase/couchbase-operator</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Refer to the <a href="howto-tls.html" class="page">TLS documentation</a> for manually creating certificates and keys that can be used to override the auto-generated secret.</p>
</div>
<div class="sect2">
<h3 id="cert"><a class="anchor" href="#cert"></a>cert</h3>
<div class="paragraph">
<p>The PEM format CA certificate.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>cert</code> value defaults to an auto-generated CA certificate.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="key"><a class="anchor" href="#key"></a>key</h3>
<div class="paragraph">
<p>The PEM format CA key.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>key</code> value defaults to an auto-generated CA key.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="expiration-2"><a class="anchor" href="#expiration-2"></a>expiration</h3>
<div class="paragraph">
<p>Expiration of CA certificate in days.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>expiration</code> value defaults to 365 days.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admission-controller-secret"><a class="anchor" href="#admission-controller-secret"></a>Admission Controller Secret</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">admissionSecret:
  name:
  cert:
  key:</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>admissionSecret</code> spec specifies the secret for the admission controller to use for validating cluster specs securely over the admission service.</p>
</div>
<div class="paragraph">
<p>To use a custom secret, you will also need to provide the CA that was used to generate the certificates and keys within the secret.
The following example shows how to use a self-signed CA and client:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Create CA and client certificates</strong></p>
<div class="paragraph">
<p>Use easyrsa CA and signed client cert with DNS <code>cb-example.default.svc</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">./easyrsa build-ca nopasss
./easyrsa --subject-alt-name=DNS:cb-example.default.svc build-server-full admission-controller nopas</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Install chart with client certificates</strong></p>
<div class="paragraph">
<p>Install chart with custom certs and be sure to set <code>admissionService.name</code> to DNS name.</p>
</div>
<div class="paragraph">
<p>This example also sets <code>--namespace default</code> option since this is also included in the DNS of cert we created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">helm install  --namespace ci-testcluster \
              --set admissionService.name=ci-testcluster \
              --set-file admissionCA.cert=/home/ubuntu/easy-rsa/easyrsa3/pki/ca.crt \
              --set-file admissionCA.key=/home/ubuntu/easy-rsa/easyrsa3/pki/private/ca.key \
              --set-file admissionSecret.cert=/home/ubuntu/easy-rsa/easyrsa3/pki/issued/admission-controller.crt \
              --set-file admissionSecret.key=/home/ubuntu/easy-rsa/easyrsa3/pki/private/admission-controller.key \
              couchbase/couchbase-operator</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="admissionSecret-name"><a class="anchor" href="#admissionSecret-name"></a>name</h3>
<div class="paragraph">
<p>This value is the name of the secret that contains the certificates for the admission operator.
This value must refer to a native kubernetes secret which contains values for TLS <code>cert</code> and <code>key</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>admissionSecret.name</code> value defaults to the name of the admission controller deployment.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="cert-2"><a class="anchor" href="#cert-2"></a>cert</h3>
<div class="paragraph">
<p>PEM format certificate to use as the admission controller&#8217;s public key during validation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>admissionSecret.cert</code> value is auto-generated by default from <code><a href="#admissionCA">admissionCA</a></code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="key-2"><a class="anchor" href="#key-2"></a>key</h3>
<div class="paragraph">
<p>PEM format key to use as the admission controllers private key during validation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Field Rules:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <code>admissionSecret.key</code> value is auto-generated by default from <code><a href="#admissionCA">admissionCA</a></code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
