<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>User Profile Sample: Couchbase Lite Fundamentals | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/3.0-GA/tutorials/userprofile-standalone-xamarin/userprofile_basic.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="tutorials">
<meta name="dcterms.identifier" content="master">
<meta name="page-url" content="/tutorials/userprofile-standalone-xamarin/userprofile_basic.html">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://ibsoln.github.io/stage/3.0-GA/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/3.0-GA/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile Stage
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a href="https://cloud.couchbase.com/sign-up" class="free-trial-link" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  <i class="fas fa-cloud"></i>
                  Free Trial
                </a>
                <a class="btn btn-primary try-btn"  onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    <a href="../index.html">Tutorials</a>
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Tutorials</span>
      </div>
      <div class="version_items hide" data-version="master">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Server</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#:session-storage:partial$nav.adoc">:session-storage:partial$nav.adoc</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <span class="menu_title menu_text">User Profile Storage
Unresolved include directive in modules/ROOT/nav.adoc - include::profile-store:partial$nav.adoc[]</span>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Mobile</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Travel Sample</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/introduction.html">Introduction</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Swift</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/index.html">Backend Installation</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/manual.html">Manual</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/docker.html">Docker (Local)</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/cloud.html">Cloud (RightScale)</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/travel-mobile-app.html">Installation</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/design/data-modeling.html">Data Modeling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/mvp-architecture.html">MVP Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/the-basics.html">The Basics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/security.html">Security</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/sync.html">Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/pre-built-database.html">Pre-built database</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/full-text-search.html">Full Text Search</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Android-Java</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/index.html">Backend Installation</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/manual.html">Manual</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/docker.html">Docker (Local)</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/cloud.html">Cloud (RightScale)</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/travel-mobile-app.html">Installation</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/design/data-modeling.html">Data Modeling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/mvp-architecture.html">MVP Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/the-basics.html">The Basics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/security.html">Security</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/sync.html">Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/pre-built-database.html">Pre-built database</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/full-text-search.html">Full Text Search</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Java</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/index.html">Backend Installation</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/manual.html">Manual</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/docker.html">Docker (Local)</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/cloud.html">Cloud (RightScale)</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/travel-mobile-app.html">Installation</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/design/data-modeling.html">Data Modeling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/mvp-architecture.html">MVP Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/the-basics.html">The Basics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/security.html">Security</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/sync.html">Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/pre-built-database.html">Pre-built database</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/full-text-search.html">Full Text Search</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">C#</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/index.html">Backend Installation</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/manual.html">Manual</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/docker.html">Docker (Local)</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/cloud.html">Cloud (RightScale)</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/travel-mobile-app.html">Installation</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/design/data-modeling.html">Data Modeling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/mvvm-architecture.html">MVVM Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/the-basics.html">The Basics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/security.html">Security</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/sync.html">Sync</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/pre-built-database.html">Pre-built database</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/full-text-search.html">Full Text Search</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Getting Started on iOS</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-standalone/userprofile_basic.html">Standalone</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-query/userprofile_query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-sync/userprofile_sync.html">Sync</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Getting Started on Xamarin</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-current-page" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="userprofile_basic.html">Standalone</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-query-xamarin/userprofile_query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-sync-xamarin/userprofile_sync.html">Sync</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Getting Started on Android</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-standalone-android/userprofile_basic.html">Standalone</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-query-android/userprofile_query.html">Query</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../userprofile-sync-android/userprofile_sync.html">Sync</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Getting Started with Peer-to-Peer Sync</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../cbl-p2p-sync-websockets/swift/cbl-p2p-sync-websockets.html">iOS/Swift</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../cbl-p2p-sync-websockets/dotnet/cbl-p2p-sync-websockets.html">Xamarin/C#</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Build Your Own</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <span class="menu_title menu_text">Tutorial Template
Unresolved include directive in modules/ROOT/nav.adoc - include::tutorial-template:partial$nav.adoc[]</span>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="3@">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/edit/DOC-9333-standalone/content/modules/userprofile-standalone-xamarin/pages/userprofile_basic.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">Tutorials</a></li>
<li class="crumb">Couchbase Mobile</li>
<li class="crumb">Getting Started on Xamarin</li>
<li class="crumb"><a href="userprofile_basic.html">Standalone</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">User Profile Sample: Couchbase Lite Fundamentals</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Mobile brings the power of NoSQL to the edge.
It is comprised of three components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Couchbase Lite</em>, an embedded, NoSQL JSON Document Style database for your mobile apps</p>
</li>
<li>
<p><em>Sync Gateway</em>, an internet-facing synchronization mechanism that securely syncs data between mobile clients and server, and</p>
</li>
<li>
<p><em>Couchbase Server</em>, a highly scalable, distributed NoSQL database platform</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Couchbase Mobile supports flexible deployment models.
You can deploy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Couchbase Lite as a standalone embedded database within your mobile apps or,</p>
</li>
<li>
<p>Couchbase Lite enabled mobile clients with a Sync Gateway to synchronize data between your mobile clients or,</p>
</li>
<li>
<p>Couchbase Lite enabled clients with a Sync Gateway to sync data between mobile clients and the Couchbase Server, which can persist data in the cloud (public or private)</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">What You Will Learn</div>
<div class="paragraph">
<p>This tutorial will walk you through a very basic example of how you can use <strong>Couchbase Lite in standalone mode</strong> within your Swift app.
In this mode, Couchbase Lite will serve as a local, embedded data store within your iOS App and can be a replacement for SQLite or Core Data.</p>
</div>
<div class="paragraph">
<p>You will learn the fundamentals of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Database Operations</p>
</li>
<li>
<p>Document CRUD Operations</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>You can learn more about Couchbase Mobile
<a href="https://developer.couchbase.com/mobile">here</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial assumes familiarity with building
<a href="https://www.xamarin.com">Xamarin</a>, more specifically Xamarin.Forms, apps using C# and XAML.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>iOS (Xcode 12.5+)</p>
</li>
<li>
<p>Android (SDK 22+)</p>
</li>
<li>
<p>UWP (Windows 10)</p>
</li>
<li>
<p>git (Optional)
This is required if you would prefer to pull the source code from GitHub repo.</p>
<div class="ulist">
<ul>
<li>
<p>Create a
<a href="https://github.com">free github account</a>
if you don&#8217;t already have one</p>
</li>
<li>
<p>git can be downloaded from
<a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git-scm.org</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="app-overview"><a class="anchor" href="#app-overview"></a>App Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will be working with a very simple <em>User Profile</em> app.
It does one thing&#8201;&#8212;&#8201;Allow a user to log in and create or update their user profile data*</p>
</div>
<div class="paragraph">
<p>The user profile data is persisted as a Document in the local Couchbase Lite Database.
So, when the user logs out and logs back in again, the profile information is loaded from the Database.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/user_profile.gif" alt="The sample user profile application running in a simulator" width="200" height="400">
</div>
<div class="title">Figure 1. The sample user profile application running in a simulator</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation"><a class="anchor" href="#installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clone the <strong><em>standalone</em></strong> branch of the <code>User Profile Demo</code> solution from GitHub.
Assuming that you have
<a href="https://git-scm.com/downloads">Git</a>
installed you can do this using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone -b standalone https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, let&#8217;s verify the installation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Try it Out</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the <code>UserProfileDemo.sln</code>. The project would be located at <code>/path/to/UserProfileDemo/modules/userprofile/examples/src</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">open UserProfileDemo.sln</code></pre>
</div>
</div>
</li>
<li>
<p>Build the solution using your preferred IDE (e.g.
<a href="https://visualstudio.microsoft.com/">Visual Studio for Windows or Mac</a>) or
<a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-build?tabs=netcore2x">directly through command line</a>.</p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/xamarin/get-started/first-app/index?pivots=windows">Run the app</a>
on a device or simulator/emulator.</p>
</li>
<li>
<p>Verify that you see the login screen.</p>
<div class="imageblock">
<div class="content">
<img src="_images/user_profile_login.png" alt="User Profile Login Screen Image">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution-overview"><a class="anchor" href="#solution-overview"></a>Solution Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The User Profile demo app is a Xamarin.Forms based solution that supports iOS, Android, and UWP mobile platforms.</p>
</div>
<div class="paragraph">
<p>The solution utilizes various design patterns and principles such as
<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel">MVVM</a>,
<a href="https://en.wikipedia.org/wiki/Inversion_of_control">IoC</a>,
and the Repository Pattern.</p>
</div>
<div class="paragraph">
<p>The solution consists of seven projects.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>UserProfileDemo</strong>: A .NET Standard project responsible for maintaining view-level functionality.</p>
</li>
<li>
<p><strong>UserProfileDemo.Core</strong>: A .NET Standard project responsible for maintaining viewmodel-level functionality.</p>
</li>
<li>
<p><strong>UserProfileDemo.Models</strong>: A .NET Standard project consisting of simple data models.</p>
</li>
<li>
<p><strong>UserProfileDemo.Repositories</strong>: A .NET Standard project consisting of repository classes responsible for Couchbase Lite database initialization, interaction, etc.</p>
</li>
<li>
<p><strong>UserProfileDemo.iOS</strong>: A Xamarin.iOS platform project responsible for building the <code>.ipa</code> file.</p>
</li>
<li>
<p><strong>UserProfileDemo.Android</strong>: A Xamarin.Android platform project responsible for building the <code>.apk</code> file.</p>
</li>
<li>
<p><strong>UserProfileDemo.UWP</strong>: A UWP platform project responsible for building the <code>.exe</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now that you have an understanding of the solution architecture let&#8217;s dive into the app!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="couchbase-lite-nuget"><a class="anchor" href="#couchbase-lite-nuget"></a>Couchbase Lite Nuget</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before diving into the code for the apps, it is important to point out the Couchbase Lite dependencies within the solution.
The
<a href="https://www.nuget.org/packages/Couchbase.Lite/">Couchbase.Lite Nuget package</a>
is included as a reference within four projects of this solution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>UserProfileDemo.Repositories</p>
</li>
<li>
<p>UserProfileDemo.iOS</p>
</li>
<li>
<p>UserProfileDemo.Android</p>
</li>
<li>
<p>UserProfileDemo.UWP</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Couchbase.Lite</code> Nuget package contains the core functionality for Couchbase Lite.</p>
</div>
<div class="paragraph">
<p>In the following sections you will dive into the capabilities the package provides.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-with-couchbase-lite"><a class="anchor" href="#getting-started-with-couchbase-lite"></a>Getting started with Couchbase Lite</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use Couchbase Lite within a Xamarin app the previously mentioned Couchbase.Lite Nuget package will need to be activated for each platform.</p>
</div>
<div class="sect2">
<h3 id="ios"><a class="anchor" href="#ios"></a>iOS</h3>
<div class="paragraph">
<p>Open
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.iOS/AppDelegate.cs"><code>AppDelegate.cs</code></a> in the <code>UserProfileDemo.iOS</code> project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">// Couchbase.Lite.Support.iOS.Activate(); // deprecated command removed in 3.0</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="android"><a class="anchor" href="#android"></a>Android</h3>
<div class="paragraph">
<p>Open
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Android/MainActivity.cs"><code>MainActivity.cs</code></a> in the <code>UserProfileDemo.Android</code> project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">Couchbase.Lite.Support.Droid.Activate(this);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-model"><a class="anchor" href="#data-model"></a>Data Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Lite is a JSON Document Store.
A Document is a logical collection of named fields and values.
The values are any valid JSON types.
In addition to the standard JSON types, Couchbase Lite supports <code>Date</code> and <code>Blob</code> data types.
While it is not required or enforced, it is a recommended practice to include a <em>"type"</em> property that can serve as a namespace for related documents.</p>
</div>
<div class="sect2">
<h3 id="lbl-user-profile-document"><a class="anchor" href="#lbl-user-profile-document"></a>The User Profile Document</h3>
<div class="paragraph">
<p>The app deals with a single Document with a <em>"type"</em> property of <em>"user"</em> as shown in  <a href="#ex-user-profile-doc">Example 1</a>.
The document ID is of the form <em>"user::demo@example.com"</em>.</p>
</div>
<div id="ex-user-profile-doc" class="exampleblock">
<div class="title">Example 1. A user profile document</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "type":"user",
    "name":"Jane Doe",
    "email":"jame.doe@earth.org",
    "address":"101 Main Street",
    "image":CBLBlob (image/jpg) <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The special 'blob' data type associated with the profile image&#8201;&#8212;&#8201;see: <a href="../../couchbase-lite/current/swift/blob.html" class="page">Working with Blobs</a></td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-user-record"><a class="anchor" href="#lbl-user-record"></a>The User Record</h3>
<div class="paragraph">
<p>The <em>"user"</em> Document is encoded to a native struct named <em>UserRecord</em> as shown in <a href="#ex-user-rec">Example 2</a></p>
</div>
<div id="ex-user-rec" class="exampleblock">
<div class="title">Example 2. The encoding of a UserRecord to a native structure</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>Unresolved include directive in modules/userprofile-standalone-xamarin/pages/userprofile_basic.adoc - include::example$UserProfileDemo/model/UserRecord.swift[]</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="basic-database-operations"><a class="anchor" href="#basic-database-operations"></a>Basic Database Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we will do a code walk-through of the basic Database operations</p>
</div>
<div class="sect2">
<h3 id="lbl-create-open-database"><a class="anchor" href="#lbl-create-open-database"></a>Create / Open a Database</h3>
<div class="paragraph">
<p>When a user logs in, we create an empty Couchbase Lite database for the user if one does not exist.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/BaseRepository.cs"><strong>BaseRepository.cs</strong></a> file and locate the <code>Database</code> property.
When the <code>Database</code> property is used for the first time a Couchbase Lite database is opened, or created if it does not already exist via the instantiation of a new object.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/BaseRepository.cs">Database _database;
protected Database Database
{
    get
    {
        if (_database == null)
        {
            _database = new Database(DatabaseName, DatabaseConfig);
        }

        return _database;
    }
    private set =&gt; _database = value;
}</code></pre>
</div>
</div>
</li>
<li>
<p>We create an instance of the <code>DatabaseConfiguration</code> within
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs"><strong>UserProfileRepository.cs</strong></a>
via an <code>abstract</code> requirement from the parent class, <code>BaseRepository</code>.<br>
This is an optional step.
In our case, we would like to override the default path of the database.
Every user has their own instance of the <code>Database</code> that is located in a folder corresponding to the user.
Please note that the default path is platform specific.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs">DatabaseConfiguration _databaseConfig;
protected override DatabaseConfiguration DatabaseConfig
{
    get
    {
        if (_databaseConfig == null)
        {
            if (AppInstance.User?.Username == null)
            {
                throw new Exception($"Repository Exception: A valid user is required!");
            }

            _databaseConfig = new DatabaseConfiguration
            {
                Directory = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData),
                                AppInstance.User.Username)
            };
        }

        return _databaseConfig;
    }
    set =&gt; _databaseConfig = value;
}</code></pre>
</div>
</div>
</li>
<li>
<p>Then we create a local Couchbase Lite database named <strong><em>"userprofile"</em></strong> for the user.
If a database already exists for the user, the existing version is returned.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/BaseRepository.cs">_database = new Database(DatabaseName, DatabaseConfig);</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="listening-to-database-changes"><a class="anchor" href="#listening-to-database-changes"></a>Listening to Database Changes</h3>
<div class="paragraph">
<p>You can be asynchronously notified of any change (add, delete, update) to the <code>Database</code> by registering a change listener with the <code>Database</code>.<br>
In our app, we are not doing anything special with the <code>Database</code> change notification other than logging the change.
In a real world app, you would use this notification for instance, to update the UI.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/BaseRepository.cs"><strong>BaseRepository.cs</strong></a>
file and locate the <code>Database.AddChangeListener</code> function usage within the constructor.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/BaseRepository.cs">DatabaseListenerToken = Database.AddChangeListener(OnDatabaseChangeEvent);</code></pre>
</div>
</div>
</li>
<li>
<p>To register a change listener with the database we add the delegate method <code>OnDatabaseChangeEvent</code>.
This is an optional step.
The <code>AddChangeListener</code> method returns a <code>ListenerToken</code>.
The <code>ListenerToken</code> is required to remove the listener from the database.<br>
The listener is a delegate method that takes two parameters of type <code>object</code> and <code>DatabaseChangedEventArgs</code> respectively.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/BaseRepository.cs">void OnDatabaseChangeEvent(object sender, DatabaseChangedEventArgs e)
{
    foreach (var documentId in e.DocumentIDs)
    {
        var document = Database?.GetDocument(documentId);

        string message = $"Document (id={documentId}) was ";

        if (document == null)
        {
            message += "deleted";
        }
        else
        {
            message += "added/updaAted";
        }

        Console.WriteLine(message);
    }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="close-database"><a class="anchor" href="#close-database"></a>Close Database</h3>
<div class="paragraph">
<p>When a user logs out, we close the Couchbase Lite database associated with the user, deregister any database change listeners, and free up memory allocations.</p>
</div>
<div class="paragraph">
<p>Open the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/BaseRepository.cs"><strong>BaseRepository.cs</strong></a>
file and locate the <code>Dispose</code> method.
In our sample <code>Dispose</code> handles the removal of database listeners, removing various objects from memory, and closing the database.
<code>Dispose</code> will be called when a user logs out.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/BaseRepository.cs">public void Dispose()
{
    DatabaseConfig = null;

    Database.RemoveChangeListener(DatabaseListenerToken);
    Database.Close();
    Database = null;
}</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Try it out</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the app to be tested using a simulator/emulator or device.</p>
</li>
<li>
<p>Log into the app with any username and password.<br>
Use the values <em>"<a href="mailto:demo@example.com">demo@example.com</a>"</em> and <em>"password"</em> for username and password fields respectively.</p>
<div class="paragraph">
<p>If this is the first time that the user is signing in, a new Couchbase Lite database will be created.
If not, the user&#8217;s existing database will be opened.</p>
</div>
</li>
<li>
<p>Confirm that the console log output has a message similar to the one below.</p>
<div class="paragraph">
<p>In my example, I am logging in with a username of <em>"<a href="mailto:demo@example.com">demo@example.com</a>"</em>.</p>
</div>
<div class="paragraph">
<p>This will open (or create) a database at path
<code>/Users/[user_name]/Library/Developer/CoreSimulator/Devices/[unique_device_id]/data/Containers/Data/Application/[unique_app_id]/Library/Application Support/demo@example.com</code></p>
</div>
</li>
<li>
<p>Note the folder location of the database, which is indicated in the above log message</p>
</li>
<li>
<p>Open the folder in your Finder app and verify that a database with name <em>"userprofile"</em> is exists for the user</p>
<div class="imageblock">
<div class="content">
<img src="_images/db_location.png" alt="User Profile Database Location">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="document-operations"><a class="anchor" href="#document-operations"></a>Document Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once an instance of the Couchbase Lite database is created/opened for the specific user, we can perform basic <code>Document</code> functions on the database.</p>
</div>
<div class="paragraph">
<p>In this section, we will walk-through the code that describes basic <code>Document</code> operations</p>
</div>
<div class="sect2">
<h3 id="reading-a-document"><a class="anchor" href="#reading-a-document"></a>Reading a Document</h3>
<div class="paragraph">
<p>Once the user logs in, the user is taken to the "Your Profile" screen.
A request is made to load  <a href="#lbl-user-profile-document">The User Profile Document</a>  for the user.
When the user logs in the very first time, there would be no <em>user profile</em> document for the user.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Core/ViewModels/UserProfileViewModel.cs"><strong>UserProfileViewModel.cs</strong></a>
file and locate the <code>userProfileDocId</code> definition.
This document Id is constructed by prefixing the term "user::" to the username of the user.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Core/ViewModels/UserProfileViewModel.cs">string UserProfileDocId =&gt; $"user::{AppInstance.User.Username}";</code></pre>
</div>
</div>
</li>
<li>
<p>The <code>UserProfileViewModel</code> is tasked with retrieving the profile for a logged in user. It does this by using a class that implements <code>IUserProfileRepository</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Core/ViewModels/UserProfileViewModel.cs">var up = UserProfileRepository?.Get(UserProfileDocId);</code></pre>
</div>
</div>
</li>
<li>
<p>In the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs"><strong>UserProfileRepository.cs</strong></a>
file, locate the <code>Get</code> function.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs">public override UserProfile Get(string userProfileId)</code></pre>
</div>
</div>
</li>
<li>
<p>We try to fetch the document with specified <code>userProfileDocId</code> from the database.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">var document = Database.GetDocument(userProfileId);

if (document != null)
{
    userProfile = new UserProfile
    {
        Id = document.Id,
        Name = document.GetString("Name"),
        Email = document.GetString("Email"),
        Address = document.GetString("Address"),
        ImageData = document.GetBlob("ImageData")?.Content
    };
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Fetch an <strong>immutable</strong> copy of the <code>Document</code> from the database.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create an instance of <a href="#lbl-user-record">The User Record</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the <code>email</code> property of the UserProfile with the username of the logged in user.<br>
<strong>Note:</strong> This value is not editable after it&#8217;s initially saved.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If the document exists and is fetched successfully, a variety of methods exist that can be used to fetch members of the <code>Document</code>.
Specifically, note the support of the <code>GetBlob</code> type to fetch the value of a property of type <code>Blob</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="creating-updating-a-document"><a class="anchor" href="#creating-updating-a-document"></a>Creating / Updating a Document</h3>
<div class="paragraph">
<p>A <a href="#lbl-user-profile-document">The User Profile Document</a> is created for the user when the user taps the "Done" button on the "Profile Screen".
The function below applies whether you are creating a document or updating an existing version</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>UserProfileViewModel</code> is tasked with setting values of a profile for a logged in user, and saving them to the database.
It does this by using a class that implements <code>IUserProfileRepository</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Core/ViewModels/UserProfileViewModel.cs">bool? success = UserProfileRepository?.Save(userProfile);</code></pre>
</div>
</div>
</li>
<li>
<p>Open the
<a href="https://github.com/couchbaselabs/userprofile-couchbase-mobile-xamarin/tree/standalone/modules/userprofile/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs"><strong>UserProfileRepository.cs</strong></a> file and locate the <code>Save</code> function.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#" data-source-url="https://github.com/ibsoln/userprofile-couchbase-mobile-xamarin/blob/898c81943e36ed24722e7266ba3dfec2361769f5/content/modules/userprofile-standalone-xamarin/examples/src/UserProfileDemo.Repositories/UserProfileRepository.cs">public override bool Save(UserProfile userProfile)</code></pre>
</div>
</div>
</li>
<li>
<p>We create a <strong>mutable</strong> instance of the <code>Document</code>.
By default, all APIs in Couchbase Lite deal with immutable objects, thereby making them <strong>thread-safe</strong> by design.
In order to mutate an object, you must explicitly get a mutable copy of the object.
Use appropriate type-setters to set the various properties of the <code>Document</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">var mutableDocument = new MutableDocument(userProfile.Id);
mutableDocument.SetString("Name", userProfile.Name);
mutableDocument.SetString("Email", userProfile.Email);
mutableDocument.SetString("Address", userProfile.Address);
mutableDocument.SetString("type", "user");
if (userProfile.ImageData != null)
{
    mutableDocument.SetBlob("ImageData", new Blob("image/jpeg", userProfile.ImageData));
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specifically, note the support of the <code>SetBlob</code> type to fetch the value of a property of type <code>Blob</code>.
<div class="ulist">
<ul>
<li>
<p>Save the document</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">Database.Save(mutableDocument);</code></pre>
</div>
</div>
</li>
</ul>
</div></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-document"><a class="anchor" href="#deleting-a-document"></a>Deleting a Document</h3>
<div class="paragraph">
<p>We don&#8217;t delete a <code>Document</code> in this sample app. However, deletion of a document is pretty straightforward and this is how you would do it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-c# hljs" data-lang="c#">var document = Database.GetDocument(id);

if (document != null)
{
    Database.Delete(document);
}</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Try It Out</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You should have followed the steps discussed in the "Try It Out" section under <a href="#lbl-create-open-database">Create / Open a Database</a></p>
</li>
<li>
<p>Enter a "name" for the user in the Text Entry box and Tap "Done"</p>
</li>
<li>
<p>Confirm that you see an alert message "Succesfully Updated Profile". The first time, you update the profile screen, the Document will be created.</p>
<div class="imageblock">
<div class="content">
<img src="_images/doc_create.png" alt="User Profile Document Creation">
</div>
</div>
</li>
<li>
<p>Now tap on the "Upload Image" button and select an image from the Photo Album. Tap "Done".</p>
<div class="imageblock">
<div class="content">
<img src="_images/image_selection.gif" alt="100" width="400">
</div>
</div>
</li>
<li>
<p>Confirm that you see an alert message "Successfully Updated Profile".
The Document will be updated this time.</p>
</li>
<li>
<p>Tap "Log Off" and log out of the app</p>
</li>
<li>
<p>Log back into the app with the same user credentials you used earlier.
In my example, I used <em>"demo@example.com"</em> and <em>"password"</em>.
So I will log in with those credentials again.</p>
</li>
<li>
<p>Confirm that you see the profile screen  with the <em>name</em> and <em>image</em> values that you set earlier.</p>
<div class="imageblock">
<div class="content">
<img src="_images/log_off_on.gif" alt="200" width="400">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="learn-more"><a class="anchor" href="#learn-more"></a>Learn More</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Congratulations on completing this tutorial!</p>
</div>
<div class="paragraph">
<p>This tutorial walked you through a very basic example of how to get up and running with Couchbase Lite as a local-only, standalone embedded data store in your iOS, Android, or UWP app.
If you want to learn more about Couchbase Mobile, check out the following links.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Further Reading</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.couchbase.com/products/mobile">Introduction to Couchbase Mobile</a></p>
</li>
<li>
<p><a href="https://blog.couchbase.com/couchbase-mobile-2-0/">Couchbase Mobile 2.0 Overview</a></p>
</li>
<li>
<p><a href="https://developer.couchbase.com/documentation/mobile/2.0/couchbase-lite/index.html">Couchbase Lite Reference Guide</a></p>
</li>
<li>
<p><a href="https://blog.couchbase.com/category/couchbase-mobile/">Couchbase Mobile Blogs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
