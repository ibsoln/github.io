<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(

{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager --><title>Couchbase Server Quickstart - Upsert and Lookup via Node.js SDK 2.6 | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/stage300/tutorials/quick-start/quickstart_nodejs.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="tutorials">
<meta name="dcterms.identifier" content="master">
<meta name="page-url" content="/tutorials/quick-start/quickstart_nodejs.html">
<meta name="generator" content="Antora 3.0.0-alpha.6">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/stage300/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a href="https://cloud.couchbase.com/sign-up" class="free-trial-link" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  <i class="fas fa-cloud"></i>
                  Free Trial
                </a>
                <a class="btn btn-primary try-btn"  onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
<div class="components">
  <div class="components_group-title">
    <a href="../index.html">Tutorials</a>
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Tutorials</span>
      </div>
      <div class="version_items hide" data-version="master">
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Developer Bootstrap Exercises</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-docker-image-manual-cb65.html">Couchbase Server Example Configuration</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-nosdk-webUI-firstquery-cb65.html">SQL JSON Upsert and Lookup via Web UI</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-java3-native-intellij-firstquery-cb65.html">Java with Couchbase SDK 3 and IntelliJ</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-java27-native-intellij-firstquery-cb65.html">Java with Couchbase SDK 2.7 and IntelliJ</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-java27-springdata32-intellij-firstquery-cb65.html">Java with Spring Data Couchbase and IntelliJ</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-dotnet27-aspnetcore31-visualstudio-firstquery-cb65.html">ASP.NET Core First Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-dotnet27-linq-vscode-firstquery-cb65.html">.NET Core with Linq2Couchbase First Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-nodejs26-ottoman-vscode-firstquery-cb65.html">Upsert and Lookup via Ottoman 2.6 &amp; NodeJS SDK 2.6</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="quickstart-python3-native-firstquery-cb65.html">Native Python SDK First Query</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Couchbase Server</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">Session Storage
Unresolved include directive in modules/ROOT/nav.adoc - include::session-storage:partial$nav.adoc[]</span>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">User Profile Storage
Unresolved include directive in modules/ROOT/nav.adoc - include::profile-store:partial$nav.adoc[]</span>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Couchbase Mobile</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Travel Sample</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/introduction.html">Introduction</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Swift</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="3">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/index.html">Backend Installation</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/manual.html">Manual</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/docker.html">Docker (Local)</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/cloud.html">Cloud (RightScale)</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/mvp-architecture.html">MVP Architecture</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/security.html">Security</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/sync.html">Sync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/query.html">Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/swift/develop/full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Android-Java</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="3">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/index.html">Backend Installation</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/manual.html">Manual</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/docker.html">Docker (Local)</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/cloud.html">Cloud (RightScale)</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/mvp-architecture.html">MVP Architecture</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/security.html">Security</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/sync.html">Sync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/query.html">Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/android/develop/full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Java</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="3">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/index.html">Backend Installation</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/manual.html">Manual</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/docker.html">Docker (Local)</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/cloud.html">Cloud (RightScale)</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/mvp-architecture.html">MVP Architecture</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/security.html">Security</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/sync.html">Sync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/query.html">Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/java/develop/full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">C#</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="3">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/index.html">Backend Installation</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/manual.html">Manual</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/docker.html">Docker (Local)</a>
    </span>
  </li>
  <li class="menu_list" data-depth="4">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/cloud.html">Cloud (RightScale)</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/installation/travel-mobile-app.html">Installation</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/design/data-modeling.html">Data Modeling</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/mvvm-architecture.html">MVVM Architecture</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/the-basics.html">The Basics</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/security.html">Security</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/sync.html">Sync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/pre-built-database.html">Pre-built database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/query.html">Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../mobile-travel-sample/csharp/develop/full-text-search.html">Full Text Search</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#standalone@userprofile-couchbase-mobile:userprofile:userprofile_basic.adoc">Getting Started on iOS</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#standalone@userprofile-couchbase-mobile:userprofile:xamarin/userprofile_basic.adoc">Getting Started on Xamarin</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#standalone@userprofile-couchbase-mobile:userprofile:android/userprofile_basic.adoc">Getting Started on Android</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#tutorials:swift-playground:overview.adoc">Xcode Playground</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">Recycler Views with Live Queries
Unresolved include directive in modules/ROOT/nav.adoc - include::university-lister:partial$nav.adoc[]</span>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">Build a Cordova Plugin
Unresolved include directive in modules/ROOT/nav.adoc - include::hotel-lister:partial$nav.adoc[]</span>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">Build a React Native Module
Unresolved include directive in modules/ROOT/nav.adoc - include::hotel-finder:partial$nav.adoc[]</span>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text">OpenID Connect Tutorial
Unresolved include directive in modules/ROOT/nav.adoc - include::openid-connect-implicit-flow:partial$nav.adoc[]</span>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Build Your Own</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Tutorial Template</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../tutorial-template/sample.html">Basic Tutorial Template</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
      </div>
    </li>
  </ul>
</div>
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/couchbase/developer-content/edit/master/modules/quick-start/pages/quickstart_nodejs.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">Tutorials</a></li>
<li class="crumb"><a href="quickstart_nodejs.html">Couchbase Server Quickstart - Upsert and Lookup via Node.js SDK 2.6</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Couchbase Server Quickstart - Upsert and Lookup via Node.js SDK 2.6</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Before we get started with the Node.js SDK, we need to ensure you have Couchbase up and running. We will create a data bucket and two query indexes. Using Couchbase&#8217;s N1QL query syntax, we will create those two indexes (one primary and one adaptive). We will upsert some records, then use our indexes to look up our documents using N1QL and the query service that is exposed through our Couchbase Node.js SDK.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="software-requirements"><a class="anchor" href="#software-requirements"></a>Software Requirements</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Docker/Docker Desktop</p>
</li>
<li>
<p>Visual Studio</p>
</li>
<li>
<p>Node.js and NPM</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>With the above software, we will have everything we need to move on from here!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites-three-steps-to-set-up-couchbase-and-query-our-bucket"><a class="anchor" href="#prerequisites-three-steps-to-set-up-couchbase-and-query-our-bucket"></a>Prerequisites: Three Steps to Set Up Couchbase and Query Our Bucket</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set up Couchbase Server 6.5 and ensure it is running</p>
</li>
<li>
<p>Create an empty bucket named “default”</p>
</li>
<li>
<p>Add a primary and adaptive index for our default bucket</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="couchbase-install-process"></a></p>
</div>
<div class="paragraph">
<p>To complete these steps, use the * <a href="quickstart-docker-image-manual-cb65.html" class="page">10-minute Couchbase Docker Container Configuration</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-1-create-a-node-js-project-and-directory-with-npm"><a class="anchor" href="#step-1-create-a-node-js-project-and-directory-with-npm"></a>Step 1: Create a Node.js Project and Directory with NPM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this exercise, we will be working with the <a href="https://docs.couchbase.com/nodejs-sdk/2.6/start-using-sdk.html">Node.js SDK v3.0</a> or any incremented minor version. I&#8217;m using <a href="https://nodejs.org/en/download">Node.js</a> version 12.14 and NPM version 6.13. If you have Node installed, you can find these version numbers by running the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">node --version
npm --version</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can access the Couchbase Server Web UI by browsing to: <a href="https://localhost:8091">localhost:8091</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s start by creating a project directory named <code>first-query-nodesdk</code>, change directories into our project and initialize NPM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">mkdir first-query-nodesdk &amp;&amp; cd $_ &amp;&amp; npm init</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The double ampersands <code>&amp;&amp;</code> are just a way of chaining multiple shell commands. The <code>$_</code> command captures our last used argument (the directory we created) and we use it to change to our new directory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that we have a Node.js project and manifest (<code>package.json</code>) in place, we can add some dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">npm install couchbase uuid</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we create a file named <code>upsert.js</code> and launch Visual Studio Code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">touch upsert.js &amp;&amp; code .</code></pre>
</div>
</div>
<div class="paragraph">
<p>These commands have set up a project directory, enabled NPM, installed <code>couchbase</code> (Couchbase Node.js SDK) and <code>uuid</code> as well as created a <code>upsert.js</code> file opened up our VS Code editor to the project root.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The npm package <code>uuid</code> will provide us with a simple way to generate unique ids for our documents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s start adding code to our <code>upsert.js</code> file.</p>
</div>
<div class="paragraph">
<p>Starting with the code sample below, each new block of code we introduce will come after any existing code.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-2-connecting-to-a-couchbase-bucket"><a class="anchor" href="#step-2-connecting-to-a-couchbase-bucket"></a>Step 2: Connecting to a Couchbase Bucket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create a connection to our Couchbase Server. This will be the username and password you set up during the #couchbase-install-process[Couchbase install process].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { v4: uuid } = require('uuid')
const couchbase = require('couchbase')

const cluster = new couchbase.Cluster(
  'couchbase://localhost',
  { username: 'Administrator', password: 'password' }
)
const bucket = cluster.bucket('default')
const collection = bucket.defaultCollection()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3-create-a-single-document-and-upsert"><a class="anchor" href="#step-3-create-a-single-document-and-upsert"></a>Step 3: Create a Single Document and Upsert</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, we will create a single document with JSON:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const user = {
  _type: 'user',
  _id: uuid(),
  email: 'perry.mason@acme.com',
  firstName: 'Perry',
  lastName: 'Mason',
  tagLine: 'Who can we get on the case?'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we use the <code>collection.upsert()</code> method to persist this document to our database.</p>
</div>
<div class="paragraph">
<p>Because the Node.js SDK returns a promise from the upsert method, we can write a try block and inside call the upsert method and wait until that promise settles and returns its result using the <code>await</code> keyword.</p>
</div>
<div class="paragraph">
<p>If it resolves without an error, we will have access to a return value, otherwise, we will have access to an <code>error</code> inside of our catch block and we will print the error message to the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const upsertSingleDocument = async () =&gt; {
  try {
    const key = `${user._type}_${user._id}`
    const result = await collection.upsert(key, user)
    console.log(result);
    console.log(`Upserting one single doc w/ key: ${key}\n`)
  } catch (error) {
    console.error(error)
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By creating a variable to store the result of our upsert operation, we have a record of the current state of a couchbase document; each time the document is modified, this value changes and we will want to get the new values.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With our <code>upsertSingleDocument()</code> function created, we now just need to call it on the next line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">upsertSingleDocument()</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code we wrote defines a document as a JSON object and then persists that single document to our bucket named <code>default</code> in Couchbase.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s run our app for the first time using Node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">node upsert</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we open our Web UI at <a href="https://localhost:8091">localhost:8091</a> and navigate to the "Buckets" tab, we can see that one document was added to the <code>default</code> bucket.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can edit each document by clicking the pencil icon or remove them with the trash icon. You can also edit the bucket and in "Advanced bucket settings" click "Enable" under <strong>Flush</strong>. When flushed, all items in the bucket are removed. This is a quick way to remove all documents at once, however; be careful as it wipes out your entire bucket.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s remove this single document, and write some code that will add multiple documents at once.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-4-create-multiple-documents-and-upsert"><a class="anchor" href="#step-4-create-multiple-documents-and-upsert"></a>Step 4: Create Multiple Documents and Upsert</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, we will create an array of documents using an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const users = [
  {
    _type: 'user',
    _id: uuid(),
    email: 'major.tom@acme.com',
    firstName: 'Major',
    lastName: 'Tom',
    tagLine: 'Send me up a drink'
  }, {
    _type: 'user',
    _id: uuid(),
    email: 'jerry.wasaracecardriver@acme.com',
    firstName: 'Jerry',
    lastName: 'Wasaracecardriver',
    tagLine: 'el sob number one'
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will use JavaScript&#8217;s <code>Promise.all()</code> and <code>Array.map()</code> to upsert multiple documents at once. If any of the upserts fail, we will be able to catch the first occurrence of an error by using a try/catch block. So long as each promise is resolved, we will save the results to a variable named <code>results</code> and Print them to the console.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add the function for upserting multiple documents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JS hljs" data-lang="JS">const upsertMultipleDocuments = async () =&gt; {
  try {
    var values = await Promise.all(
      users.map((user) =&gt; {
        let key = `${user._type}_${user._id}`
        console.log(`Upserting one of multiple docs w/ key: ${key}\n`)
        return collection.upsert(key, user)
      })
    )
    values.forEach((value) =&gt; console.log(value))
  } catch (error) {
    console.error('First failure:', error)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With our <code>upsertMultipleDocuments()</code> function created, we want to remove the call to <code>upsertSingleDocument()</code> that we had added above and we are going to chain it together with the <code>upsertMultipleDocuments()</code> function call and add an exit command once all work is done. Add the following code on the next line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">upsertSingleDocument()
.then(() =&gt; {
  upsertMultipleDocuments()
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before we run the <code>upsert.js</code> file, let&#8217;s add one more command at the end of the file to shut Node down after the documents are finished being upserted, update the code as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">upsertSingleDocument()
.then(() =&gt; {
  upsertMultipleDocuments()
  .then(() =&gt; process.exit(22))
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now if we run the application, we will get three documents persisted to our bucket. As well, after the <code>upsertMultipleDocuments()</code> function has resolved, we will use a command to exit our Node.js application in the terminal.</p>
</div>
<div class="paragraph">
<p>Note: The process object is global and allows us to manage the current Node.js process without the use of a <code>require()</code> statement to import it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">node upsert</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we open our Web UI at <a href="https://localhost:8091">localhost:8091</a> and navigate to the "Buckets" tab, we can see that three documents were added to the <code>default</code> bucket. One from our <code>upsertSingleDocument()</code> function and two from our <code>upsertMultipleDocuments()</code> function.</p>
</div>
<div class="paragraph">
<p>Next, we will write a query to fetch a document by a user&#8217;s last name.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-5-query-for-user-by-last-name"><a class="anchor" href="#step-5-query-for-user-by-last-name"></a>Step 5: Query for User by Last Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can query for our documents using the N1QL query language. Our query service uses <a href="https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/index.html">N1QL</a>, which will be fairly familiar to anyone with general SQL experience.</p>
</div>
<div class="paragraph">
<p>Knowing that our documents have a <code>_type</code> of <strong>"user"</strong> we can construct a query simply by knowing basic SQL, let&#8217;s try it!</p>
</div>
<div class="paragraph">
<p>If we open our Web UI: <a href="https://localhost:8091">localhost:8091</a> and navigate to the "Query" tab, we can work on our query inside the "Query Editor".</p>
</div>
<div class="sect2">
<h3 id="the-query-plan"><a class="anchor" href="#the-query-plan"></a>The Query Plan</h3>
<div class="paragraph">
<p>Create a new file named <code>query.js</code> and paste the following code that connects to our bucket:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const couchbase = require('couchbase')

const cluster = new couchbase.Cluster(
  'couchbase://localhost',
  { username: 'Administrator', password: 'password' }
)
const bucket = cluster.bucket('default')</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to select all documents from our <code>default</code> bucket, where <code>_type</code> is equal to 'user' and where <code>lastName</code> is equal to 'Tom'. I have written a simple query using N1QL, but the fact that it is so simple, it looks just like SQL. Not all N1QL is exactly like SQL, but it&#8217;s very similar, so similar in some cases you can&#8217;t really tell the difference. Just like in the query below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT * FROM `default` WHERE _type = 'user' AND lastName = 'Tom'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Copy and paste this query into your "Query Editor" and hit the "Execute" button, we should get the following result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JSON hljs" data-lang="JSON">[
  {
    "default": {
      "_id": "421f0989-67e5-4461-8661-5bcdb07711e2",
      "_type": "user",
      "email": "major.tom@acme.com",
      "firstName": "Major",
      "lastName": "Tom",
      "tagLine": "Send me up a drink"
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our results are correct in that only one of our documents is of <code>_type</code> 'user' and <code>lastName</code> equal to 'Tom'.</p>
</div>
<div class="paragraph">
<p>Now that we have tested our query, let&#8217;s use it in our code with <code>cluster.query()</code>. In our case, we will pass in one argument (the query) and a callback:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-JS hljs" data-lang="JS">const getUserByLastName = async() =&gt; {
  const query = "SELECT * FROM `default` WHERE _type = 'user' AND lastName = 'Tom'"
  let returnValue
  await cluster.query(query, (err, res) =&gt; {
    if (err) throw err;
    returnValue = res.rows
  })
  return returnValue
}

getUserByLastName()
.then((value) =&gt; console.log(value))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that we have our <code>getUserByLastName()</code> function in place and our three documents are in the bucket. Let&#8217;s run <code>query.js</code> which will print out the result of our query finding the one document where the user&#8217;s last name is 'Tom'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">node query</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should be similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">Final Query Result: [object Promise]
Result: {
  default: {
    _type: 'user',
    _id: '36c619aa-d3f6-45d9-83ae-5ca26ecee012',
    email: 'major.tom@acme.com',
    firstName: 'Major',
    lastName: 'Tom',
    tagLine: 'Send me up a drink'
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I purposely wrote our <code>getUserBylastname()</code> function in a way that we could easily debug and understand, but it&#8217;s a little verbose. Let&#8217;s take another stab at writing this in a way that is more concise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const getUserByLastName = async() =&gt; {
  const query = "SELECT * FROM `default` WHERE _type = 'user' AND lastName = 'Tom'"
  return (await cluster.query(query)).rows
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Much better!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-6-query-for-user-by-last-name-with-named-parameters"><a class="anchor" href="#step-6-query-for-user-by-last-name-with-named-parameters"></a>Step 6: Query for User by Last Name with Named Parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I want to copy that same method and update it so that we have a function that will take a <code>lastName</code> as an argument. There are a few ways to do this, but I want to show off how to pass parameters to the <code>cluster.query()</code> method. I won&#8217;t go into full detail, rather just update the function for you to see!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const getUserByLastName = async(lastName) =&gt; {
  const query = "SELECT * FROM `default` WHERE _type = $TYPE AND lastName = $LASTNAME"
  const options = { parameters : {  TYPE: "user", LASTNAME: lastName} }
  return (await cluster.query(query, options)).rows
}

getUserByLastName('Tom')
.then((value) =&gt; console.log(value))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pretty simple! We pass in our name as text, and parameterize the query using <code>$WHATEVER</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-7-query-for-user-by-last-name-with-positional-parameters"><a class="anchor" href="#step-7-query-for-user-by-last-name-with-positional-parameters"></a>Step 7: Query for User by Last Name with Positional Parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I wanted to create one more function using positional parameters instead of named parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const getUserByLastName = async(lastName) =&gt; {
  const query = "SELECT * FROM `default` WHERE _type = $1 AND lastName = $2"
  const options = { parameters : ['user', lastName ] }
  return (await cluster.query(query, options)).rows
}

getUserByLastName('Tom')
.then((value) =&gt; console.log(value))</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-8-get-all-users-and-return-multiple-documents"><a class="anchor" href="#step-8-get-all-users-and-return-multiple-documents"></a>Step 8: Get All Users and Return Multiple Documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a real-world application, you would typically not use N1QL queries when you expect only one result to be returned, for that reason, let&#8217;s build a query that returns multiple documents. Our new function will be <code>getAllUsers()</code>. Let&#8217;s also make it simple and leave off the options and parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const getAllusers = async() =&gt; {
  const query = "SELECT * FROM `default` WHERE _type = 'user'"
  return (await cluster.query(query)).rows
}

getAllusers()
.then((value) =&gt; console.log(value))</code></pre>
</div>
</div>
<div class="paragraph">
<p>The call to <code>getAllUsers()</code> should give you an array with multiple documents returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">[
  {
    default: {
      _type: 'user',
      _id: '00e597ae-3ad8-418d-b718-50fb033fab41',
      email: 'jerry.wasaracecardriver@acme.com',
      firstName: 'Jerry',
      lastName: 'Wasaracecardriver',
      tagLine: 'el sob number one'
    }
  },
  {
    default: {
      _type: 'user',
      _id: 'ae18629c-ba59-4bf1-9a15-8ad3aa1bbebc',
      email: 'major.tom@acme.com',
      firstName: 'Major',
      lastName: 'Tom',
      tagLine: 'Send me up a drink'
    }
  },
  {
    default: {
      _type: 'user',
      _id: 'e3f6f20e-7405-4451-926a-8be0d708bc0b',
      email: 'perry.mason@acme.com',
      firstName: 'Perry',
      lastName: 'Mason',
      tagLine: 'Who can we get on the case?'
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>There you have it. We have walked through creating JSON objects, persisting them as documents to Couchbase using upserts. We have learned how to query using N1QL in multiple ways and how to wrap those calls up in functions for use in your application. We have only scratched the surface, but we have built our foundational knowledge with strong examples!</p>
</div>
<div class="paragraph">
<p>If you would like to continue learning about N1QL and the Node.js SDK, I suggest checking our <a href="https://docs.couchbase.com/nodejs-sdk/3.0/howtos/n1ql-queries-with-sdk.html">Node.js Documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exercise-complete"><a class="anchor" href="#exercise-complete"></a>Exercise Complete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Congratulations! You have engaged with the world&#8217;s most powerful JSON document database using the Node.js SDK from Couchbase. You can learn more about N1QL with our <a href="https://query-tutorial.couchbase.com/tutorial">N1QL Tutorial</a> if you are interested in exploring more of the query language for Couchbase.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../_/js/vendor/fontawesome.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
